/** 
 * Kendo UI v2019.3.917 (http://www.telerik.com/kendo-ui)                                                                                                                                               
 * Copyright 2019 Progress Software Corporation and/or one of its subsidiaries or affiliates. All rights reserved.                                                                                      
 *                                                                                                                                                                                                      
 * Kendo UI commercial licenses may be obtained at                                                                                                                                                      
 * http://www.telerik.com/purchase/license-agreement/kendo-ui-complete                                                                                                                                  
 * If you do not own a commercial license, this file shall be governed by the trial license terms.                                                                                                      
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       
                                                                                                                                                                                                       

*/
!function(e,define){define("kendo.timeline.min",["kendo.fx.min","kendo.data.min","kendo.draganddrop.min"],e)}(function(){return function(e,t){function a(e){return"k-"+e}function i(e){var t,a,i=e.css("transform");return"none"!=i?(a=i.match(/-?[\d\.]+/g),t=a[4],t/e.width()*100):0}function n(e,t){return e.offset().left-t.offset().left+e.width()/2}function s(e,t,a){e.css(t,a)}var l=window.kendo,d=l.ui,r=d.Widget,o=l.data.DataSource,c=l.effects.Transition,p=e.proxy,m=-1,u=0,f=1,v="vertical",h="transitionEnd",k=3,g="timeline-event",F="k-timeline-flag-wrap",_="k-timeline-track-item",w="k-timeline-scrollable-wrap",b='# var titleField = data.titleField, subtitleField = data.subtitleField, descriptionField = data.descriptionField, imagesField = data.imagesField, actionsField = data.actionsField, data = data.data; #<div class="k-card-header"># if(data[titleField]) { #<h5 class="k-card-title">#= data[titleField] #</h5># }if(data[subtitleField]) { #<h6 class="k-card-subtitle">#= data[subtitleField] #</h6># } #</div><div class="k-card-body"><div class="k-card-description"># if(data[descriptionField]) { #<p>#= data[descriptionField] #</p># }if(data[imagesField] && data[imagesField].length > 0) { #<img src="#= data[imagesField][0].src #" class="k-card-image" /># } #</div></div># if(data[actionsField] && data[actionsField].length > 0) { #<div class="k-card-actions"># for (var i = 0; i < data[actionsField].length; i++) { #<a class="k-button k-flat k-primary" href="#= data[actionsField][i].url ? data[actionsField][i].url : "\\#" #">#= data[actionsField][i].text #</a># } #</div># } #',x='# var titleField = data.titleField, subtitleField = data.subtitleField, descriptionField = data.descriptionField, imagesField = data.imagesField, actionsField = data.actionsField, data = data.data; #<div class="k-card-header"><h5 class="k-card-title"># if(data[titleField]) { #<span class="k-event-title">#= data[titleField] #</span># } #<span class="k-event-collapse k-button k-button-icon k-flat"><span class="k-icon k-i-arrow-chevron-right"></span></span></h5># if(data[subtitleField]) { #<h6 class="k-card-subtitle">#= data[subtitleField] #</h6># } #</div><div class="k-card-body"><div class="k-card-description"># if(data[descriptionField]) { #<p>#= data[descriptionField] #</p># } ## if(data[imagesField] && data[imagesField].length > 0) { #<img src="#= data[imagesField][0].src #" class="k-card-image" /># } #</div></div># if(data[actionsField] && data[actionsField].length > 0) { #<div class="k-card-actions"># for (var i = 0; i < data[actionsField].length; i++) { #<a class="k-button k-flat k-primary" href="#= data[actionsField][i].url ? data[actionsField][i].url : "\\#" #">#= data[actionsField][i].text #</a># } #</div># } #',I='<div class="k-timeline-track"><ul class="k-timeline-scrollable-wrap"># var itemTemplate = data.itemTemplate, dateField = data.dateField, dateFormat = data.dateFormat, showDateLabels = data.showDateLabels, data = data.data, year = 0; ## for (var i = 0; i < data.length; i++) {if(!(data[i][dateField] instanceof Date)) {continue;}var currentYear = data[i][dateField].getFullYear();if(year != currentYear) {year = currentYear; #<li class="k-timeline-track-item k-timeline-flag-wrap"><span class="k-timeline-flag">#= year #</span></li># } #<li class="k-timeline-track-item"><div class="k-timeline-date-wrap"># if(showDateLabels) { #<span class="k-timeline-date">#= kendo.toString(data[i][dateField], dateFormat) #</span># } #</div><a class="k-timeline-circle"></a></li># } #</ul></div>',E='# var itemTemplate = data.itemTemplate, dateField = data.dateField, titleField = data.titleField, descriptionField = data.descriptionField, subtitleField = data.subtitleField, imagesField = data.imagesField, actionsField = data.actionsField, alterMode = data.alterMode, collapsibleEvents = data.collapsibleEvents, dateFormat = data.dateFormat, showDateLabels = data.showDateLabels, data = data.data, counter = 0, year = 0, reverse = false; #<ul># for (var i = 0; i < data.length; i++) {if(!(data[i][dateField] instanceof Date)) {continue;}var currentYear = data[i][dateField].getFullYear();if(currentYear != year) {year = currentYear; #<li class="k-timeline-flag-wrap"><span class="k-timeline-flag">#= year #</span></li># } reverse = counter % 2 === 0 && alterMode; #<li class="#= reverse ? \'k-timeline-event k-reverse\' : \'k-timeline-event\' #" data-uid="#: data[i].uid #"># if(showDateLabels) { #<div class="k-timeline-date-wrap"><span class="k-timeline-date">#= kendo.toString(data[i][dateField], dateFormat) #</span></div># } #<a class="k-timeline-circle"></a><div class="#= collapsibleEvents ? \'k-timeline-card k-collapsed\' : \'k-timeline-card\' #"><div class="k-card"><span class="#= reverse ? \'k-timeline-card-callout k-card-callout k-callout-e\' : \'k-timeline-card-callout k-card-callout k-callout-w\' #"></span>#= itemTemplate({titleField: titleField, subtitleField: subtitleField, descriptionField: descriptionField, imagesField: imagesField, actionsField: actionsField, data: data[i]}) #</div></div></li># counter ++;} #</ul>',C='<a class="k-button k-timeline-arrow k-timeline-arrow-left k-state-disabled" title="previous"><span class="k-icon k-i-arrow-60-left"></span></a><a class="k-button k-timeline-arrow k-timeline-arrow-right" title="next"><span class="k-icon k-i-arrow-60-right"></span></a>',T=l.Class.extend({init:function(t){this.cardContainer=e("<div class='k-card' />");var i=e("<div class='k-timeline-card'></div>").append(this.cardContainer);this.element=e("<li class='"+a(g)+"'></li>").append(i),t.append(this.element)},content:function(t,a){var i=e("<span class='k-timeline-card-callout k-card-callout k-callout-n'></span>");this.cardContainer.html(t),this.cardContainer.append(i),this.element.attr("data-uid",a)},position:function(e){this.element.css("transform","translate3d("+this.element.width()*e+"px, 0, 0)")},setPageCallout:function(e,t){var a=this.element,i=a.find(".k-timeline-card-callout");i.css(e,t)},destroy:function(){var e=this;e.cardContainer=null,e.element.remove(),e.element=null}}),y=l.Observable.extend({init:function(t,a){var i,n,s,d=this;l.Observable.fn.init.call(this),this.element=t,i=new l.ui.Movable(d.element),n=new c({axis:"x",movable:i,onEnd:function(){d.trigger(h)}}),s=[],e.extend(d,{duration:a&&a.duration||1,movable:i,transition:n,pages:s,eventTemplate:a.eventTemplate,eventHeight:a.eventHeight,dataFieldMappings:a.dataFieldMappings}),this.bind([h],a)},initPages:function(){var e,t,a=this.pages,i=this.element;for(t=0;t<k;t++)e=new T(i),a.push(e)},repositionPages:function(){var e=this.pages;e[0].position(m),e[1].position(u),e[2].position(f)},setPageContent:function(e,t){var a=typeof this.eventTemplate===Function?this.eventTemplate:l.template(this.eventTemplate),i=this.dataFieldMappings,n=a({data:t,titleField:i.title,subtitleField:i.subtitle,descriptionField:i.description,imagesField:i.images,actionsField:i.actions});e.content(n,t.uid)},updatePage:function(e,t,a){var i=this.pages,n=null===e?i[1]:e?i[i.length-1]:i[0];this.setPageContent(n,t),n.setPageCallout("left",a/n.element.width()*100+"%")},moveTo:function(e){this.movable.moveAxis("x",-e)},transitionTo:function(e,t){this.transition.moveTo({location:e,duration:this.duration,ease:t})},destroy:function(){var e,t=this;for(e=0;e<t.pages.length;e++)t.pages[e].destroy();t.unbind(),t.movable=t.tansition=t.pane=null}}),W=l.ui.Widget.extend({init:function(t,a){var i=this,n=a.orientation||i.options.orientation;r.fn.init.call(this,t,a),this.element.addClass(n===v?"k-timeline k-widget k-timeline-vertical":"k-timeline k-widget k-timeline-horizontal"),n!=v?i._horizontal():i._vertical(),this.element.on("click",".k-card-actions",function(){var t=e(event.target),a=e(event.target).closest(".k-timeline-event").data("uid"),n=i.dataSource.getByUid(a);i.trigger("actionClick",{sender:i,element:t,dataItem:n})}),i.currentEventIndex=0,i._forward=null,i._eventPage=1,i._currentIndex=0,i._firstIndexInView=0,i._initDataFieldMappings(),i.setDataSource(a.dataSource)},_horizontal:function(){var t=this,a=this.element,i=this.options,n=e("<div />"),s=e("<div />"),l=e("<ul />");t._trackWrap=n,t._eventsWrap=s,t._eventsList=l,n.addClass("k-timeline-track-wrap"),s.addClass("k-timeline-events-list"),l.addClass("k-timeline-scrollable-wrap"),i.eventHeight&&l.height(i.eventHeight),n.append(C),s.append(l),n.appendTo(a),s.appendTo(a),e(window).on("resize",p(this,"_resizeHandler")),n.on("click",".k-timeline-track-item:not(.k-timeline-flag-wrap)",p(this,"_setCurrentEvent")),n.on("click",".k-timeline-arrow:not(.k-state-disabled)",p(this,"_navigateToView"))},_vertical:function(){var t=this,a=this.options,i=this.element;a.alternatingMode&&i.addClass("k-timeline-alternating"),a.collapsibleEvents&&(i.addClass("k-timeline-collapsible"),this.element.on("click",".k-card-header",function(){var a=e(this).closest(".k-timeline-card"),i=a.find(".k-card-body"),n=t.dataSource.getByUid(a.closest("li").data("uid"));a.hasClass("k-collapsed")?t.trigger("expand",{sender:t,dataItem:n})||(l.fx(i).expand("vertical").stop().play(),a.toggleClass("k-collapsed")):t.trigger("collapse",{sender:t,dataItem:n})||(l.fx(i).expand("vertical").stop().reverse(),a.toggleClass("k-collapsed"))}))},_renderContentVertical:function(e){var t,a,i,n=this,s=n.options;a=typeof s.eventTemplate===Function?s.eventTemplate:s.eventTemplate?l.template(s.eventTemplate):l.template(x,{useWithBlock:!1}),i=l.template(E,{useWithBlock:!1}),t=i({data:e,dateField:s.dataDateField,titleField:s.dataTitleField,subtitleField:s.dataSubtitleField,descriptionField:s.dataDescriptionField,imagesField:s.dataImagesField,actionsField:s.dataActionsField,itemTemplate:a,alterMode:s.alternatingMode,collapsibleEvents:s.collapsibleEvents,dateFormat:s.dateFormat,showDateLabels:s.showDateLabels}),this.element.html(t),s.eventWidth&&n.element.find(".k-card").width(s.eventWidth)},_renderContentHorizontal:function(t){var a,i,n,s=this,d=s.options,r=s._dataFieldMappings;i=typeof d.eventTemplate===Function?d.eventTemplate:d.eventTemplate?l.template(d.eventTemplate):l.template(b,{useWithBlock:!1}),n=l.template(I,{useWithBlock:!1}),a=n({data:t,itemTemplate:i,dateFormat:d.dateFormat,dateField:d.dataDateField,showDateLabels:d.showDateLabels}),d.initialEventIndex?s._trackWrap.append(e(a).find(".k-timeline-scrollable-wrap").css("transform","translateX(-100%)").parent()):(s._trackWrap.find(".k-timeline-track").length>0&&s._trackWrap.find(".k-timeline-track").empty(),s._trackWrap.append(a)),s.pane&&s.pane.destroy(),s.pane=new y(s._eventsList,{transitionEnd:p(this,"_transitionEnd"),eventTemplate:i,dataFieldMappings:r,eventHeight:d.eventHeight})},_initDataFieldMappings:function(){var e=this,t=e.options;e._dataFieldMappings={title:t.dataTitleField,subtitle:t.dataSubtitleField,date:t.dataDateField,description:t.dataDescriptionField,images:t.dataImagesField,actions:t.dataActionsField}},_transitionEnd:function(){this._forward?this.pane.pages.push(this.pane.pages.shift()):this.pane.pages.unshift(this.pane.pages.pop()),this._forward=null,this.pane.repositionPages(),this.pane.movable.moveAxis("x",0),this._animationInProgress=!1},_setCurrentEvent:function(t){var a=this,i=e(t.currentTarget),n=a.dataSource.view()[i.index("li[class='k-timeline-track-item']")],s=a._forward?a.pane.pages[2].element:a.pane.pages[0].element;a.trigger("change",{eventContainer:s,dataItem:n})||a.open(i)},open:function(t){var a,i=this,s=e(t),l=s.find(".k-timeline-circle"),d=s.index("li[class='k-timeline-track-item']"),r=i.dataSource.view()[d];i.currentEventIndex!==d&&(i._currentIndex=s.index(),a=i._forward=i.currentEventIndex<d,i.currentEventIndex=d,i.pane.updatePage(a,r,n(l,i._trackWrap)),i._forward?setTimeout(function(){i.pane.transition.moveTo({location:-i.pane.pages[2].element.width(),duration:800,ease:c.easeOutExpo})},200):setTimeout(function(){i.pane.transition.moveTo({location:i.pane.pages[0].element.width(),duration:800,ease:c.easeOutExpo})},200),i._repositionEvents())},_navigateToView:function(t){var a=this,i=e(t.currentTarget).hasClass("k-timeline-arrow-right")?1:-1;a.trigger("navigate",{sender:a,action:i>0?"next":"previous"})||a._animationInProgress||(a._animationInProgress=!0,i>0?a.next():a.previous(),a._updateArrows())},_updateArrows:function(){var e=this,t=e.element.find(".k-timeline-arrow");e._validateNavigation(!1)?t.filter(".k-timeline-arrow-left").addClass("k-state-disabled"):t.filter(".k-timeline-arrow-left").removeClass("k-state-disabled"),e._validateNavigation(!0)?t.filter(".k-timeline-arrow-right").addClass("k-state-disabled"):t.filter(".k-timeline-arrow-right").removeClass("k-state-disabled")},_validateNavigation:function(e){var t=this,a=t._end||0;return e?t._firstIndexInView+t.numOfEvents>=t.maxEvents:Math.abs(a)<=1},next:function(){var e=this,t=e.options;e._validateNavigation(!0)||t.orientation==v||(e._forward=!0,e._navigate()),e._updateArrows()},_navigate:function(){var t,a,s,l,d,r=this,o=r._forward,p=i(this._trackWrap.find("."+w)),m=o?-e("."+w).width():e("."+w).width(),u=r._currentIndex,f=r._firstIndexInView;p=o?p-100:p+100,p>=0&&(p=0),r._end=p,l=r._tackItemWidth,d=Math.floor(u/r.numOfEvents),o?1===r.numOfEvents?(t=0===f?1:f,a=this._trackWrap.find("."+_).eq(t).nextAll(":not(."+F+")").first(),r._firstIndexInView=a.index()):(t=f+r.numOfEvents-1,a=this._trackWrap.find("."+_).eq(t).nextAll(":not(."+F+")").first(),r._firstIndexInView=f+r.numOfEvents):1===r.numOfEvents?(t=f,a=this._trackWrap.find("."+_).eq(t).prevAll(":not(."+F+")").first(),r._firstIndexInView=a.index()):(t=f,a=this._trackWrap.find("."+_).eq(t).prevAll(":not(."+F+")").first(),a=a.length>0?a:this._trackWrap.find("."+_+":not(."+F+")").first(),r._firstIndexInView=f-r.numOfEvents<0?0:f-r.numOfEvents),s=r.dataSource.view()[a.index("li[class='k-timeline-track-item']")],this._trackWrap.find("."+w).css("transform","translateX("+p+"%)"),r._currentIndex!=a.index()?(r.currentEventIndex=a.index("li[class='k-timeline-track-item']"),r._currentIndex=a.index(),r.pane.updatePage(r._forward,s,0!==d||o?n(a.find(".k-timeline-circle"),r._trackWrap)+m:a.find(".k-timeline-circle").offset().left+15),setTimeout(function(){r.pane.transition.moveTo(o?{location:-r.pane.pages[2].element.width(),duration:800,ease:c.easeOutExpo}:{location:r.pane.pages[0].element.width(),duration:800,ease:c.easeOutExpo})},200)):this._trackWrap.find("."+w)[0].addEventListener("transitionend",function(){var e,t;1!=r.numOfEvents&&(e=r.pane.pages[1],t=n(a.find(".k-timeline-circle"),r._trackWrap),e.setPageCallout("left",t/e.element.width()*100+"%"))})},previous:function(){var e=this,t=e.options;e._validateNavigation(!1)||t.orientation==v||(e._forward=!1,e._navigate()),e._updateArrows()},expand:function(t){var a=e(t).find(".k-timeline-card"),i=e(t).find(".k-card-body");a.hasClass("k-collapsed")&&(l.fx(i).expand("vertical").stop().play(),a.removeClass("k-collapsed"))},collapse:function(t){var a=e(t).find(".k-timeline-card"),i=e(t).find(".k-card-body");a.hasClass("k-collapsed")||(l.fx(i).expand("vertical").stop().reverse(),a.addClass("k-collapsed"))},items:function(){return this.element.find("li[data-uid]")},_resizeHandler:function(){var e=this;setTimeout(function(){e._redrawEvents(),e.pane.repositionPages()})},redraw:function(){var e=this.options;e.orientation!=v&&(this._redrawEvents(),this.pane.repositionPages())},_redrawEvents:function(){var e,t=this,a=Math.floor(t.element.find(".k-timeline-scrollable-wrap").width()/150);t.element.width()<=480?(t.element.addClass("k-timeline-mobile"),e=100,t.numOfEvents=1,t._tackItemWidth=e,t.element.find("li.k-timeline-track-item").css("flex","1 0 "+e+"%"),t._repositionEvents()):(t.element.removeClass("k-timeline-mobile"),a!=t.numOfEvents&&(t.numOfEvents=a,e=100/a,s(t.element.find("li.k-timeline-track-item"),"flex","1 0 "+e+"%"),t._tackItemWidth=e,t._repositionEvents())),t._updateArrows()},_repositionEvents:function(){var e,a,l,d,r=this,o=r._tackItemWidth,c=null===r._forward?r.pane.pages[1]:r._forward?r.pane.pages[2]:r.pane.pages[0],p=this._trackWrap.find("."+w),m=i(p);if(a=1===r.numOfEvents?r.currentEventIndex*o:r._currentIndex*o,c){if(1===r.numOfEvents)return c.setPageCallout("left","50%"),l=a,s(p,"transform","translateX(-"+l+"%)"),r._firstIndexInView=r._currentIndex,r._updateArrows(),t;a>=Math.abs(m)+100?(l=Math.abs(m)+(a-(Math.abs(m)+100)+o),r._end=-l,s(p,"transform","translateX(-"+l+"%)"),r._firstIndexInView=r._currentIndex-r.numOfEvents+1):a<=Math.abs(m)?(l=a,r._end=-l,s(p,"transform","translateX(-"+l+"%)"),r._firstIndexInView=r._currentIndex):(d=p.find("li.k-timeline-track-item").eq(r._currentIndex).find(".k-timeline-circle"),e=n(d,r._trackWrap),c.setPageCallout("left",e/c.element.width()*100+"%"),r._firstIndexInView=Math.round(Math.abs(m)/o)),this._trackWrap.find("."+w)[0].addEventListener("transitionend",function(){var e,t,a;1!=r.numOfEvents&&(e=r.pane.pages[1],t=r._trackWrap.find("."+_).eq(r._currentIndex),a=n(t.find(".k-timeline-circle"),r._trackWrap),e.setPageCallout("left",a/e.element.width()*100+"%"))})}r._updateArrows()},_initHorizontal:function(){var e=this,t=e._trackWrap.find(".k-timeline-circle").first(),a=e.dataSource.view()[0];e.maxEvents=e._trackWrap.find(".k-timeline-track-item").length,e._currentIndex=1,e.pane.initPages(),e.pane.repositionPages(),e.pane.updatePage(e._forward,a,n(t,e._trackWrap)),e._updateArrows()},setDataSource:function(e){var a=this,i=a.options;e instanceof o?(this.dataSource=e=new o(e.options),this.dataSource._sort===t&&(this.dataSource._sort=[{field:i.dataDateField,dir:"asc"}])):(this.dataSource=o.create(e),this.dataSource._sort===t&&(this.dataSource._sort=[{field:i.dataDateField,dir:"asc"}])),this.dataSource.fetch(function(){var e=a.dataSource.view();"horizontal"===a.options.orientation?(a._renderContentHorizontal(e),a._redrawEvents(),a._initHorizontal()):a._renderContentVertical(e),a.trigger("dataBound",{sender:a})})},destroy:function(){var e=this.options;r.fn.destroy.call(this),e.orientation!=v&&this.pane.destroy(),this.element.off(),l.destroy(this.element)},options:{name:"Timeline",orientation:"vertical",dateFormat:"MMM d, yyyy",showDateLabels:!0,collapsibleEvents:!1,alternatingMode:!1,dataTitleField:"title",dataDateField:"date",dataSubtitleField:"subtitle",dataDescriptionField:"description",dataImagesField:"images",dataActionsField:"actions"},events:["collapse","dataBound","expand","actionClick","change","navigate"]});l.ui.plugin(W)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(e,t,a){(a||t)()});
//# sourceMappingURL=kendo.timeline.min.js.map
