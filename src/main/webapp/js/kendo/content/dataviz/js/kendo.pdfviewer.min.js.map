{"version":3,"sources":["kendo.pdfviewer.js"],"names":["f","define","$","undefined","extend","isLoaded","window","pdfjsLib","console","error","kendo","pdfviewer","pdfjs","lib","jQuery","amd","a1","a2","a3","PDFJS","Class","atob","PDFJSProcessor","init","options","viewer","that","this","file","fetchDocument","deferred","Deferred","messages","errorMessages","_isBase64Data","data","getDocument","promise","then","pdf","i","pageSizes","pagePromises","_downloadData","getData","blob","Blob","type","resolve","numPages","push","getPage","Promise","all","map","pagePromise","viewport","getViewport","scale","width","height","total","pages","e","_triggerError","message","parseError","notFoundError","name","includes","alertMessage","notFound","_renderBlankPage","fetchPageData","number","downloadFile","fileName","ui","progress","pageContainer","done","result","saveAs","dataURI","_updateDocument","equalSign","notBase64","length","test","indexOf","renderTextLayer","params","processor","DPLProcessor","read","upload","download","ajax","url","dataType","success","stringify","JSON","parse","xhr","responseText","page","document","pageField","geometries","location","fromJSON","json","_clearPages","_renderPages","resize","activatePage","dpl","NS","Widget","CHANGE","KEYDOWN","CLICK","support","click","SHRINKWIDTH","kendoAttr","attr","proxy","DOT","pagerStyles","wrapperClass","iconFirst","iconLast","iconPrev","iconNext","first","last","nav","disabled","Pager","element","fn","call","linkTemplate","template","addClass","_renderLinks","_toggleDisabledClass","_attachEvents","previousNext","input","events","_pagerLink","iconClass","text","pageIdx","wrapClass","firstLink","prevLink","previous","nextLink","next","lastLink","append","_renderInput","toggleClass","on","_click","keyCode","keys","ENTER","preventDefault","_keydown","target","currentTarget","parseInt","isDefaultPrevented","_change","key","val","upDown","UP","DOWN","allowedKeys","RIGHT","LEFT","BACKSPACE","DELETE","direction","isNaN","match","trigger","setOptions","prevTotal","totalMessage","inputTemplate","shouldShrink","parent","pagerInputWrap","find","off","format","of","html","destroy","appendZoomButtons","isOverflow","className","styles","zoomOverflowButtons","zoomButtons","ZOOM_BUTTON_TEMPLATE","zoomOut","command","ZOOMOUT","zoomOutIcon","showText","zoomIn","ZOOMIN","zoomInIcon","ToolBarZoom","ToolBarOverflowZoom","ViewerToolBar","ACTION","FLATBUTTONCLASS","Item","toolbar","ToolBar","PREDEFINED_ZOOM_VALUES","auto","actual","fitToWidth","fitToPage","overflowHidden","ZOOM_COMBOBOX_TEMPLATE","DefaultTools","pager","overflow","spacer","zoom","zoomInOut","combobox","zoomLevels","toggleSelection","attributes","class","buttons","togglable","icon","group","selected","spacer2","search","open","print","AllTools","exportAs","ToolbarPager","pagerElement","change","addUidAttr","addOverflowAttr","action","value","children","targetIndex","index","shiftKey","TAB","focus","stopPropagation","registerComponent","_init","_initValue","_appendElements","throttle","bind","zoomElement","_buildComboBox","comboOptions","percent","autoWidth","actualWidth","concat","mobileOS","kendoComboBox","clearButton","getKendoComboBox","wrapper","_currentValue","parsedValue","sender","replace","_buttonCommand","button","closest","updateComboBox","enable","items","Object","_updateItems","toggle","update","_update","tool","toolOptions","toolName","isBuiltInTool","isPlainObject","aria-label","title","data-command","deepExtend","pageOptions","isBlank","_updateZoomComboBox","isPredefined","Math","round","args","Toolbar","normalizeText","String","REPLACE_REGEX","SPACE","objectKey","object","parts","sort","join","hashKey","str","hash","charCodeAt","zeroSize","baseline","measureText","style","measureBox","TextMetrics","current","measure","LRUCache","DEFAULT_OPTIONS","defaultMeasureBox","util","size","_size","_length","_map","put","entry","_head","_tail","newer","older","get","baselineMarkerSize","createElement","cssText","_cache","styleKey","cacheKey","cachedResult","baselineMarker","textStr","box","_baselineMarker","cloneNode","textContent","appendChild","body","offsetWidth","offsetHeight","offsetTop","parentNode","removeChild","marker","noop","drawing","Group","Surface","RENDER","geometryTypes","Path","MultiPath","Rect","Image","Text","Page","pageNumber","_updatePageSize","ratio","pageElement","min","render","DPLPage","draw","surface","_drawGeometries","load","loaded","_initSurface","surfaceOptions","view","kGeometry","geometry","_drawPath","_drawRect","_drawImage","_drawText","rectGeo","point","transform","_getMatrix","fill","fillOptions","stroke","strokeOptions","imageRect","src","font","content","subPath","j","segment","drawAction","path","paths","segments","moveTo","apply","points","lineTo","curveTo","closed","close","matrix","create","Matrix","prototype","PDFJSPage","canvas","defaultScale","force","_scale","_page","context","getContext","_renderTask","cancel","canvasContext","_renderTextLayer","textLayer","remove","getTextContent","normalizeWhitespace","css","container","textDivs","enhanceTextSelection","isArray","SearchDOM","processDom","highlightClass","charClass","targets","textNodes","charIndex","forEach","traverseToTextNode","processTextNode","node","nodeType","childNodes","span","wrap","empty","splitChars","unwrap","newHtml","innerHTML","matchCase","expression","RegExp","matches","resetMark","resetHighlight","resetMatchIndex","exec","startOffset","endOffset","highlightAll","mark","start","end","highlight","matchIndex","removeClass","removeAttr","currentIndex","wrapInner","contents","nextMatch","previousMatch","getMarkedIndex","getFirstMarked","eq","each","item","EXTENSIONS","svg","png","ErrorDialog","actions","dialogs","okText","_dialog","kendoDialog","getKendoDialog","center","ExportAsDialog","fileFormats","description","exportAsDialog","extension","_initializeDialog","autoFocus","resizable","modal","preventScroll","maxWidth","_updateModel","pagesCount","viewModel","set","dialogMessages","dialog","kendoWindow","getKendoWindow","observable","defaultFileName","SearchDialog","dialogElm","dialogOffset","top","position","left","Window","minHeight","draggable","dragHandle","activate","ev","searchModel","boundValue","searchText","matchCaseClick","prev","onKeyup","navigationFn","onInput","parseJSON","OPEN","ZOOMSTART","ZOOMEND","Command","OpenCommand","_upload","_initUpload","uploadOptions","select","_onSelect","_onSuccess","_onError","complete","_onComplete","showFileList","multiple","validation","allowedExtensions","async","saveUrl","autoUpload","saveField","kendoUpload","getKendoUpload","response","XMLHttpRequest","notSupported","reader","fileToUpload","files","toLowerCase","FileReader","onload","fromFile","onerror","readAsArrayBuffer","rawFile","PageChangeCommand","DownloadCommand","info","ExportCommand","_saveDialog","_initDialog","exportImage","exportSVG","EnableSelectionCommand","_toggleSelection","EnablePanCommand","OpenSearchCommand","searchDialog","offset","_open","_next","_prev","_close","changeHandler","zoomStartHandler","_closeDialog","openFileHandler","_searchDOM","_initSearchDOM","searchEngine","unbind","_updateSearchModel","field","model","_scrollToMark","marked","scroller","_scroller","scrollElement","scrollTo","scrollLeft","ZoomCommand","updateViewer","loadedPagesHeight","_pageNum","containerHeight","clientHeight","updatedVisiblePagesCount","renderTasks","processingLib","_calculateZoom","scrollingStarted","_scrollingStarted","scrollTop","scrollHeight","_resize","zoomScale","pageHeight","_visiblePages","_visiblePagesCount","_loadVisiblePages","_triggerZoomEnd","preventZoom","viewerOptions","visibleCanvas","scaleValue","_allowResize","_autoFit","zoomRate","_autoZoomScale","zoomMin","zoomMax","PrintCommand","_renderPrintContainer","_loadAllPages","printContainer","interval","printHandler","originalScale","timeout","printImmediately","clearTimeout","setTimeout","_renderPrintPages","_printDocument","_renderPrintImage","div","img","toDataURL","myWindow","write","PLUS","MINUS","ZERO","NUMPAD_ZERO","SCROLL","ERROR","FOCUS","MOUSEWHEEL","UPDATE","ZOOM_SCALE","PAGE_CHANGE","ZOOMCOMMAND","WHITECOLOR","TABINDEX","PROCESSORS","enableTextSelection","enablePanning","PDFViewer","_wrapper","_renderToolbar","_initProcessor","_renderPageContainer","_loadDocument","_tabindex","notify","pdfjsProcessing","dplProcessing","loadOnDemand","defaultPageSize","togglePan","labels","saveAsType","save","inputLabel","_focus","_resizeHandler","onResize","plusShortcuts","NUMPAD_PLUS","minusShortcuts","NUMPAD_MINUS","zeroShortcuts","shouldExecute","ctrlKey","_blankPage","execute","processingOptions","toolbarOptions","toolbarElement","appendTo","_initErrorDialog","dialogInstance","_errorDialog","pagesData","viewerPage","pageData","_attachContainerEvents","_getVisiblePagesCount","containerWidth","_resizePages","clientWidth","currentRatio","max","_wheel","mobile","Scroller","elastic","_scroll","pageToLoad","currentPage","currentPageTop","currentPageHeight","previousPage","prevPageTop","prevPageHeight","containerScrollHeight","containerScrollTop","containerOffsetTop","pageNum","pageIndex","pageToLoadNum","scrollDirection","_prevScrollTop","_preventScroll","abs","floor","originalEvent","delta","wheelDelta","detail","preventComboBoxChange","commandOptions","loadPage","subtractMargin","minVisiblePageNum","maxVisiblePageNum","slice","promises","background","rootGroup","fromRect","color","proxyURL","forceProxy","proxyTarget","unbindResize","reset","userEvents","_shouldNotMove","_getTextLayers","plugin"],"mappings":"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","file":"kendo.pdfviewer.min.js","sourcesContent":["/*!\n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n                                                                                                                                                                                                       \n\n*/\n(function (f, define) {\n    define('pdfviewer/pdfjs', ['kendo.core'], f);\n}(function () {\n    (function ($, undefined) {\n        var extend = $.extend;\n        var isLoaded = function () {\n            if (!window.pdfjsLib) {\n                var console = window.console;\n                if (console && console.error) {\n                    console.error('PDF.JS required.');\n                }\n                return false;\n            }\n            kendo.pdfviewer.pdfjs.lib = window.pdfjsLib;\n            return true;\n        };\n        extend(kendo, {\n            pdfviewer: {\n                pdfjs: {\n                    lib: window.pdfjsLib,\n                    isLoaded: isLoaded\n                }\n            }\n        });\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('pdfviewer/processors/pdfjs-processor', ['pdfviewer/pdfjs'], f);\n}(function () {\n    var __meta__ = {\n        id: 'pdfjs-processor',\n        name: 'PDFJS-Processor',\n        category: 'framework',\n        depends: ['core']\n    };\n    (function ($, undefined) {\n        var kendo = window.kendo, Class = kendo.Class, extend = $.extend, atob = window.atob, PDFJS;\n        var PDFJSProcessor = Class.extend({\n            init: function (options, viewer) {\n                var that = this;\n                if (kendo.pdfviewer.pdfjs.isLoaded()) {\n                    PDFJS = kendo.pdfviewer.pdfjs.lib;\n                }\n                that.file = options.file;\n                that.viewer = viewer;\n            },\n            fetchDocument: function () {\n                var that = this, deferred = $.Deferred(), messages = that.viewer.options.messages.errorMessages;\n                if (!that.file) {\n                    return deferred.resolve();\n                }\n                if (that._isBase64Data() && atob) {\n                    that.file.data = atob(that.file.data);\n                }\n                PDFJS.getDocument(this.file).promise.then(function (pdf) {\n                    var pageSizes = [];\n                    that.pdf = pdf;\n                    that.pagePromises = [];\n                    that._downloadData = $.Deferred();\n                    pdf.getData().then(function (data) {\n                        var blob = new Blob([data], { type: 'application/pdf' });\n                        that._downloadData.resolve({ file: blob });\n                    });\n                    for (var i = 1; i <= pdf.numPages; i++) {\n                        that.pagePromises.push(pdf.getPage(i));\n                    }\n                    Promise.all(that.pagePromises).then(function (pagePromises) {\n                        pageSizes = pagePromises.map(function (pagePromise) {\n                            var viewport = pagePromise.getViewport({ scale: 4 / 3 });\n                            return {\n                                width: viewport.width,\n                                height: viewport.height\n                            };\n                        });\n                        deferred.resolve({\n                            total: pdf.numPages,\n                            pages: pageSizes\n                        });\n                    }).catch(function (e) {\n                        that.viewer._triggerError({\n                            error: e.message,\n                            message: messages.parseError\n                        });\n                    });\n                }).catch(function (e) {\n                    var notFoundError = e.name.includes('Missing');\n                    var alertMessage = notFoundError ? messages.notFound : messages.parseError;\n                    that.viewer._triggerError({\n                        error: e.message,\n                        message: alertMessage\n                    });\n                    if (notFoundError) {\n                        that.viewer._renderBlankPage();\n                    }\n                });\n                return deferred;\n            },\n            fetchPageData: function (number) {\n                return this.pagePromises[number - 1];\n            },\n            downloadFile: function (fileName) {\n                var that = this;\n                kendo.ui.progress(that.viewer.pageContainer, true);\n                that._downloadData.done(function (result) {\n                    kendo.ui.progress(that.viewer.pageContainer, false);\n                    kendo.saveAs({\n                        dataURI: result.file,\n                        fileName: fileName + '.pdf'\n                    });\n                });\n            },\n            _updateDocument: function (file) {\n                this.file = file;\n            },\n            _isBase64Data: function () {\n                var data = this.file.data, notBase64 = /[^A-Z0-9+\\/=]/i, length = data && data.length, equalSign;\n                if (!length || length % 4 !== 0 || notBase64.test(data)) {\n                    return false;\n                }\n                equalSign = data.indexOf('=');\n                return equalSign === -1 || equalSign === length - 1 || equalSign === length - 2 && data[length - 1] === '=';\n            },\n            renderTextLayer: function (params) {\n                PDFJS.renderTextLayer(params);\n            }\n        });\n        extend(kendo.pdfviewer.pdfjs, { processor: PDFJSProcessor });\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('pdfviewer/processors/dpl-processor', ['kendo.core'], f);\n}(function () {\n    var __meta__ = {\n        id: 'dpl-processor',\n        name: 'DPL-Processor',\n        category: 'framework',\n        depends: ['core']\n    };\n    (function ($, undefined) {\n        var kendo = window.kendo, extend = $.extend, Class = kendo.Class;\n        var DPLProcessor = Class.extend({\n            init: function (options, viewer) {\n                var that = this;\n                that.options = options;\n                that.read = options.read;\n                that.upload = options.upload;\n                that.download = options.download;\n                that.viewer = viewer;\n            },\n            fetchDocument: function () {\n                var that = this, deferred = $.Deferred(), errorMessages = that.viewer.options.messages.errorMessages;\n                if (!that.read) {\n                    return deferred.resolve();\n                }\n                $.ajax({\n                    type: that.read.type,\n                    url: that.read.url,\n                    dataType: that.read.dataType,\n                    success: function (data) {\n                        if (typeof data != 'string') {\n                            data = kendo.stringify(data);\n                        }\n                        deferred.resolve(JSON.parse(data));\n                    },\n                    error: function (xhr) {\n                        that.viewer._triggerError({\n                            error: xhr.responseText,\n                            message: errorMessages.parseError\n                        });\n                    }\n                });\n                return deferred;\n            },\n            fetchPageData: function (number) {\n                var that = this;\n                var deferred = $.Deferred();\n                var page = that.viewer.document.pages[number - 1];\n                var data = {};\n                data[that.read.pageField] = number;\n                if (!page.geometries.length) {\n                    $.ajax({\n                        type: that.read.type,\n                        url: that.read.url,\n                        data: data,\n                        success: function (data) {\n                            deferred.resolve(JSON.parse(data));\n                        },\n                        error: function (xhr) {\n                            that.viewer._triggerError({\n                                error: xhr.responseText,\n                                message: that.viewer.options.messages.errorMessages.parseError\n                            });\n                        }\n                    });\n                } else {\n                    deferred.resolve(page);\n                }\n                return deferred;\n            },\n            downloadFile: function (fileName) {\n                window.location = this.download.url + '?file=' + fileName;\n            },\n            fromJSON: function (json) {\n                var viewer = this.viewer;\n                viewer._clearPages();\n                viewer.document = json;\n                viewer.document.total = viewer.document.pages.length;\n                viewer._renderPages();\n                viewer.resize(true);\n                viewer.activatePage(1);\n            }\n        });\n        extend(kendo.pdfviewer, { dpl: { processor: DPLProcessor } });\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('pdfviewer/pager', ['kendo.core'], f);\n}(function () {\n    (function ($, undefined) {\n        var NS = '.kendoPDFViewer', Widget = kendo.ui.Widget, CHANGE = 'change', KEYDOWN = 'keydown', CLICK = kendo.support.click, SHRINKWIDTH = 480, kendoAttr = kendo.attr, proxy = $.proxy, extend = $.extend, DOT = '.';\n        var pagerStyles = {\n            wrapperClass: 'k-pager-wrap',\n            iconFirst: 'k-i-arrow-end-left',\n            iconLast: 'k-i-arrow-end-right',\n            iconPrev: 'k-i-arrow-60-left',\n            iconNext: 'k-i-arrow-60-right',\n            first: 'k-pager-first',\n            last: 'k-pager-last',\n            nav: 'k-pager-nav',\n            disabled: 'k-state-disabled'\n        };\n        var Pager = Widget.extend({\n            init: function (element, options) {\n                var that = this;\n                Widget.fn.init.call(that, element, options);\n                that.linkTemplate = kendo.template(that.options.linkTemplate);\n                that.element.addClass(pagerStyles.wrapperClass);\n                that._renderLinks();\n                that._toggleDisabledClass();\n                that._attachEvents();\n            },\n            options: {\n                linkTemplate: '<a href=\"\\\\#\" aria-label=\"#=text#\" title=\"#=text#\" class=\"k-button k-button-icon k-flat k-pager-nav #= wrapClass #\" data-page=\"#=pageIdx#\"><span class=\"k-icon #= iconClass #\"></span></a>',\n                previousNext: true,\n                input: true,\n                page: 1,\n                total: 1,\n                messages: {}\n            },\n            events: [CHANGE],\n            _pagerLink: function (iconClass, text, pageIdx, wrapClass) {\n                return this.linkTemplate({\n                    iconClass: iconClass,\n                    text: text,\n                    wrapClass: wrapClass || '',\n                    pageIdx: pageIdx\n                });\n            },\n            _renderLinks: function () {\n                var that = this, options = that.options;\n                if (options.previousNext) {\n                    that.firstLink = $(that._pagerLink(pagerStyles.iconFirst, options.messages.first, 1, pagerStyles.first));\n                    that.prevLink = $(that._pagerLink(pagerStyles.iconPrev, options.messages.previous, options.page - 1));\n                    that.nextLink = $(that._pagerLink(pagerStyles.iconNext, options.messages.next, options.page + 1));\n                    that.lastLink = $(that._pagerLink(pagerStyles.iconLast, options.messages.last, options.total, pagerStyles.last));\n                }\n                that.element.append(that.firstLink);\n                that.element.append(that.prevLink);\n                if (options.input) {\n                    that._renderInput();\n                }\n                that.element.append(that.nextLink);\n                that.element.append(that.lastLink);\n            },\n            _toggleDisabledClass: function () {\n                var that = this, options = that.options, total = !options.total;\n                if (that.nextLink && that.prevLink) {\n                    that.prevLink.toggleClass(pagerStyles.disabled, total || options.page === 1);\n                    that.nextLink.toggleClass(pagerStyles.disabled, total || options.page === options.total);\n                    that.lastLink.toggleClass(pagerStyles.disabled, total || options.page === options.total);\n                    that.firstLink.toggleClass(pagerStyles.disabled, total || options.page === 1);\n                }\n                if (that.input) {\n                    that.input.toggleClass(pagerStyles.disabled, options.total <= 1);\n                }\n            },\n            _attachEvents: function () {\n                var that = this;\n                that.element.on(CLICK + NS, DOT + pagerStyles.nav, proxy(that._click, that));\n                that.element.on(KEYDOWN + NS, DOT + pagerStyles.nav, function (e) {\n                    if (e.keyCode === kendo.keys.ENTER) {\n                        that._click(e);\n                        e.preventDefault();\n                    }\n                });\n                if (that.input) {\n                    that.input.on(KEYDOWN + NS, proxy(that._keydown, that));\n                }\n            },\n            _click: function (e) {\n                var target = $(e.currentTarget);\n                var page = parseInt(target.attr(kendoAttr('page')), 10);\n                if (e.isDefaultPrevented()) {\n                    return;\n                }\n                this._change(page);\n            },\n            _keydown: function (e) {\n                var key = e.keyCode, keys = kendo.keys, input = $(e.target), page = parseInt(input.val(), 10), upDown = key === keys.UP || key === keys.DOWN, allowedKeys = key === keys.RIGHT || key === keys.LEFT || key === keys.BACKSPACE || key === keys.DELETE, direction = upDown && key === keys.UP ? 1 : -1;\n                if (upDown) {\n                    page += direction;\n                }\n                if (key === keys.ENTER || upDown) {\n                    if (isNaN(page) || page < 1 || page > this.options.total) {\n                        page = this.options.page;\n                        input.val(page);\n                        return;\n                    }\n                    this._change(page);\n                    e.preventDefault();\n                } else if (!e.key.match(/^\\d+$/) && !allowedKeys) {\n                    e.preventDefault();\n                }\n            },\n            _change: function (page) {\n                var that = this;\n                if (page >= 1 && page <= that.options.total) {\n                    that.options.page = page;\n                    if (that.input) {\n                        that.input.val(page);\n                    }\n                    that.prevLink.attr(kendoAttr('page'), page - 1);\n                    that.nextLink.attr(kendoAttr('page'), page + 1);\n                    that._toggleDisabledClass();\n                }\n                that.trigger(CHANGE, { page: page });\n            },\n            setOptions: function (options) {\n                var that = this, prevTotal = that.options.total;\n                options = $.extend(that.options, options);\n                Widget.fn.setOptions.call(that, options);\n                if (options.input) {\n                    if (prevTotal != options.total) {\n                        that._renderInput();\n                        that.input.on(KEYDOWN + NS, proxy(that._keydown, that));\n                    } else {\n                        that.input.val(options.total > 0 ? options.page : 1);\n                    }\n                }\n                if (options.total > 1) {\n                    that.prevLink.attr(kendoAttr('page'), options.page - 1);\n                    that.nextLink.attr(kendoAttr('page'), options.page + 1);\n                    that.lastLink.attr(kendoAttr('page'), options.total);\n                }\n                that._toggleDisabledClass();\n            },\n            _renderInput: function () {\n                var that = this, totalMessage, options = that.options, shouldShrink = that.element.parent().width() <= SHRINKWIDTH, inputTemplate, pagerInputWrap = that.element.find('.k-pager-input');\n                if (that.input) {\n                    that.input.off(NS);\n                }\n                totalMessage = options.total > 0 ? kendo.format(options.messages.of, options.total) : '';\n                if (!shouldShrink) {\n                    totalMessage += options.total > 1 ? options.messages.pages : options.messages.page;\n                }\n                inputTemplate = '<input class=\"k-textbox\" aria-label=\"' + options.page + totalMessage + '\">' + totalMessage;\n                if (pagerInputWrap.length) {\n                    pagerInputWrap.html(inputTemplate);\n                } else {\n                    that.element.append('<span class=\"k-pager-input k-label\">' + inputTemplate + '</span>');\n                }\n                that.input = that.element.find('input').val(options.total > 0 ? options.page : 1);\n            },\n            destroy: function () {\n                this.element.off(NS);\n                if (this.input) {\n                    this.input.off(NS);\n                }\n                Widget.fn.destroy.call(this);\n            }\n        });\n        extend(kendo.pdfviewer, { Pager: Pager });\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('pdfviewer/toolbar', [\n        'kendo.toolbar',\n        'kendo.combobox',\n        'pdfviewer/pager'\n    ], f);\n}(function () {\n    (function ($, undefined) {\n        var kendo = window.kendo, extend = $.extend, proxy = $.proxy, ACTION = 'action', FLATBUTTONCLASS = 'k-flat', KEYDOWN = 'keydown', CLICK = kendo.support.click, CHANGE = 'change', ZOOMIN = 'zoomin', ZOOMOUT = 'zoomout', Item = kendo.toolbar.Item, ToolBar = kendo.ui.ToolBar, PREDEFINED_ZOOM_VALUES = {\n                auto: 'auto',\n                actual: 'actual',\n                fitToWidth: 'fitToWidth',\n                fitToPage: 'fitToPage'\n            }, styles = {\n                zoomOutIcon: 'k-i-zoom-out',\n                zoomInIcon: 'k-i-zoom-in',\n                zoomButtons: 'k-button-icon k-flat',\n                zoomOverflowButtons: 'k-button-icontext k-overflow-button',\n                overflowHidden: 'k-overflow-hidden'\n            };\n        var ZOOM_BUTTON_TEMPLATE = kendo.template('<a href=\"\\\\#\" aria-label=\"#=text#\" title=\"#=text#\" data-command=\"#=command#\" class=\"k-button #=className#\"><span class=\"k-icon #= iconClass #\"></span> ${showText ? text : \"\"}</a>');\n        var ZOOM_COMBOBOX_TEMPLATE = kendo.template('<select>' + '#for(var zoomIndex in zoomLevels){#' + '# var zoomLevel = zoomLevels[zoomIndex]; #' + '<option value=\"#= zoomLevel.percent || (zoomLevel + \"%\") #\">${zoomLevel.text ? zoomLevel.text : zoomLevel + \"%\"}</option>' + '#}#' + '</select>');\n        var DefaultTools = {\n            pager: {\n                type: 'pager',\n                overflow: 'never',\n                command: 'PageChangeCommand'\n            },\n            spacer: { type: 'spacer' },\n            zoom: {\n                type: 'zoom',\n                command: 'ZoomCommand',\n                zoomInOut: true,\n                combobox: {\n                    zoomLevels: [\n                        50,\n                        100,\n                        150,\n                        200,\n                        300,\n                        400\n                    ]\n                }\n            },\n            toggleSelection: {\n                type: 'buttonGroup',\n                attributes: { 'class': 'k-toggle-selection-group' },\n                buttons: [\n                    {\n                        togglable: true,\n                        text: 'Enable Selection',\n                        command: 'EnableSelectionCommand',\n                        icon: 'cursor',\n                        showText: 'overflow',\n                        name: 'toggleSelection',\n                        group: 'toggle-pan'\n                    },\n                    {\n                        togglable: true,\n                        text: 'Enable Panning',\n                        command: 'EnablePanCommand',\n                        icon: 'hand',\n                        showText: 'overflow',\n                        name: 'togglePan',\n                        group: 'toggle-pan',\n                        selected: true\n                    }\n                ]\n            },\n            spacer2: { type: 'spacer' },\n            search: {\n                type: 'button',\n                text: 'Search',\n                command: 'OpenSearchCommand',\n                icon: 'search',\n                name: 'search',\n                showText: 'overflow'\n            },\n            open: {\n                type: 'button',\n                text: 'Open',\n                showText: 'overflow',\n                name: 'open',\n                icon: 'folder-open',\n                command: 'OpenCommand'\n            },\n            download: {\n                type: 'button',\n                text: 'Download',\n                showText: 'overflow',\n                name: 'download',\n                icon: 'download',\n                command: 'DownloadCommand'\n            },\n            print: {\n                type: 'button',\n                text: 'Print',\n                showText: 'overflow',\n                name: 'print',\n                icon: 'print',\n                command: 'PrintCommand'\n            }\n        };\n        var AllTools = extend({}, DefaultTools, {\n            exportAs: {\n                type: 'button',\n                text: 'Export',\n                showText: 'overflow',\n                name: 'exportAs',\n                icon: 'image-export',\n                command: 'ExportCommand'\n            }\n        });\n        var ToolbarPager = Item.extend({\n            init: function (options, toolbar) {\n                var pagerElement = $('<div />');\n                this.options = extend(true, options, toolbar.options.pager);\n                this.toolbar = toolbar;\n                this.toolbar.pager = new kendo.pdfviewer.Pager(pagerElement, extend({}, options, { change: proxy(this._change, this) }));\n                this.element = pagerElement;\n                this.element.on(KEYDOWN, proxy(this._keydown, this));\n                this.attributes();\n                this.addUidAttr();\n                this.addOverflowAttr();\n            },\n            _change: function (e) {\n                if (this.options.change && this.options.change(e.page)) {\n                    return;\n                }\n                this.toolbar.action({\n                    command: 'PageChangeCommand',\n                    options: { value: e.page }\n                });\n            },\n            _keydown: function (e) {\n                var that = this, target = $(e.target), keyCode = e.keyCode, children = that.element.find(':kendoFocusable'), targetIndex = children.index(target), direction = e.shiftKey ? -1 : 1;\n                if (keyCode === kendo.keys.TAB && children[targetIndex + direction]) {\n                    children[targetIndex + direction].focus();\n                    e.preventDefault();\n                    e.stopPropagation();\n                }\n            }\n        });\n        kendo.toolbar.registerComponent('pager', ToolbarPager);\n        function appendZoomButtons(element, messages, isOverflow) {\n            var className = isOverflow ? styles.zoomOverflowButtons : styles.zoomButtons;\n            element.append(ZOOM_BUTTON_TEMPLATE({\n                text: messages.zoomOut,\n                command: ZOOMOUT,\n                iconClass: styles.zoomOutIcon,\n                showText: isOverflow,\n                className: className\n            }));\n            element.append(ZOOM_BUTTON_TEMPLATE({\n                text: messages.zoomIn,\n                command: ZOOMIN,\n                iconClass: styles.zoomInIcon,\n                showText: isOverflow,\n                className: className\n            }));\n        }\n        var ToolBarZoom = Item.extend({\n            init: function (options, toolbar) {\n                this._init(options, toolbar);\n                this.toolbar.zoom = this;\n                if (toolbar.options.scale) {\n                    this._initValue = toolbar.options.scale * 100 + '%';\n                }\n                this._appendElements();\n                this._click = kendo.throttle(this._click.bind(this), 200);\n                this._keydown = kendo.throttle(this._keydown.bind(this), 200);\n                this.element.on(CLICK, '.k-button', this._click);\n                this.element.on(KEYDOWN, '.k-button', this._keydown);\n                this.attributes();\n                this.addUidAttr();\n                this.addOverflowAttr();\n            },\n            _init: function (options, toolbar) {\n                var zoomElement = $('<div />');\n                this.options = extend(true, options, { messages: toolbar.options.messages.zoom });\n                this.toolbar = toolbar;\n                this.element = zoomElement;\n            },\n            _appendElements: function () {\n                var options = this.options;\n                if (options.zoomInOut) {\n                    appendZoomButtons(this.element, options.messages, false);\n                }\n                if (options.combobox) {\n                    this._buildComboBox();\n                }\n            },\n            _buildComboBox: function () {\n                var that = this, combobox, messages = that.options.messages, comboOptions = that.options.combobox, zoomLevels = [\n                        {\n                            percent: PREDEFINED_ZOOM_VALUES.auto,\n                            text: messages.autoWidth\n                        },\n                        {\n                            percent: PREDEFINED_ZOOM_VALUES.actual,\n                            text: messages.actualWidth\n                        },\n                        {\n                            percent: PREDEFINED_ZOOM_VALUES.fitToWidth,\n                            text: messages.fitToWidth\n                        },\n                        {\n                            percent: PREDEFINED_ZOOM_VALUES.fitToPage,\n                            text: messages.fitToPage\n                        }\n                    ];\n                zoomLevels = zoomLevels.concat(comboOptions.zoomLevels);\n                combobox = $(ZOOM_COMBOBOX_TEMPLATE({ zoomLevels: zoomLevels }));\n                if (!kendo.support.mobileOS) {\n                    combobox = combobox.kendoComboBox(extend({\n                        autoWidth: true,\n                        clearButton: false,\n                        value: that._initValue\n                    }, comboOptions)).getKendoComboBox();\n                    that.element.append(combobox.wrapper);\n                    that.combobox = combobox;\n                    that._currentValue = combobox.value();\n                } else {\n                    that.element.append(combobox);\n                }\n                combobox.bind(CHANGE, kendo.throttle(that.change.bind(that), 300));\n            },\n            change: function (e) {\n                var value = e.sender ? e.sender.value() : e.target.value, parsedValue;\n                if (value.toString().match(/^[0-9]+%?$/)) {\n                    parsedValue = parseInt(value.replace('%', ''), 10) / 100;\n                } else if (!PREDEFINED_ZOOM_VALUES[value]) {\n                    if (this.combobox) {\n                        this.combobox.value(this._currentValue);\n                    }\n                    e.preventDefault();\n                    return;\n                }\n                this._currentValue = value;\n                this.toolbar.action({\n                    command: 'ZoomCommand',\n                    options: { scale: parsedValue || value }\n                });\n            },\n            _buttonCommand: function (target) {\n                var button = $(target).closest('.k-button'), command = button.data('command');\n                this.toolbar.action({\n                    command: 'ZoomCommand',\n                    options: {\n                        zoomIn: command === ZOOMIN,\n                        zoomOut: command === ZOOMOUT,\n                        updateComboBox: true\n                    }\n                });\n            },\n            _click: function (e) {\n                this._buttonCommand(e.target);\n            },\n            _keydown: function (e) {\n                var key = e.keyCode, keys = kendo.keys;\n                if (key === keys.ENTER) {\n                    this._buttonCommand(e.target);\n                    e.preventDefault();\n                }\n            },\n            enable: function (value) {\n                var element = this.element;\n                element.find('.k-button, select').toggleClass('k-state-disabled', !value);\n                if (this.combobox) {\n                    this.combobox.enable(value);\n                }\n            },\n            destroy: function () {\n                if (this.combobox) {\n                    this.combobox.destroy();\n                }\n            }\n        });\n        var ToolBarOverflowZoom = ToolBarZoom.extend({\n            _init: function (options, toolbar) {\n                var zoomElement = $('<li></li>');\n                this.options = extend(true, options, { messages: toolbar.options.messages.zoom });\n                this.toolbar = toolbar;\n                this.element = zoomElement;\n            },\n            _appendElements: function () {\n                var options = this.options;\n                if (options.zoomInOut) {\n                    appendZoomButtons(this.element, options.messages, true);\n                }\n            },\n            overflowHidden: function () {\n                this.element.addClass(styles.overflowHidden);\n            }\n        });\n        kendo.toolbar.registerComponent('zoom', ToolBarZoom, ToolBarOverflowZoom);\n        var ViewerToolBar = ToolBar.extend({\n            init: function (element, options) {\n                var that = this;\n                var items = options.items && options.items.length ? options.items : Object.keys(DefaultTools);\n                that.options = options;\n                options.items = that._updateItems(items);\n                ToolBar.fn.init.call(that, element, options);\n                that.bind({\n                    click: that._click,\n                    toggle: that._click\n                });\n                options.viewer.bind({ update: that._update.bind(that) });\n            },\n            events: [ACTION],\n            _updateItems: function (items) {\n                var that = this;\n                var messages = this.options.messages;\n                return items.map(function (tool) {\n                    var isBuiltInTool = $.isPlainObject(tool) && Object.keys(tool).length === 1 && tool.name;\n                    tool = isBuiltInTool ? tool.name : tool;\n                    var toolOptions = $.isPlainObject(tool) ? tool : AllTools[tool];\n                    var options;\n                    var toolName = toolOptions.name;\n                    if (toolOptions.type === 'buttonGroup') {\n                        toolOptions.buttons = that._updateItems(toolOptions.buttons);\n                    } else if (toolOptions.type !== 'pager') {\n                        options = {\n                            name: toolName,\n                            attributes: {\n                                'aria-label': messages[toolName],\n                                'title': messages[toolName],\n                                'data-command': toolOptions.command,\n                                'class': FLATBUTTONCLASS\n                            },\n                            overflow: toolOptions.overflow\n                        };\n                    } else {\n                        options = { overflow: 'never' };\n                    }\n                    kendo.deepExtend(toolOptions, options);\n                    return toolOptions;\n                });\n            },\n            _click: function (e) {\n                var command = $(e.target).data('command');\n                if (!command) {\n                    return;\n                }\n                this.action({\n                    command: command,\n                    options: e.options\n                });\n            },\n            _update: function (e) {\n                var pageOptions = {\n                    page: e.page || 1,\n                    total: e.total || 1\n                };\n                if (this.zoom) {\n                    this.zoom.enable(!e.isBlank);\n                    if (e.action === 'zoom') {\n                        this._updateZoomComboBox(e.zoom);\n                    }\n                }\n                if ((e.action === 'pagechange' || e.isBlank) && this.pager) {\n                    this.pager.setOptions(pageOptions);\n                }\n                this.enable(this.wrapper.find('.k-toggle-selection-group'), !e.isBlank);\n                this.enable(this.wrapper.find('[data-command=\\'OpenSearchCommand\\']'), !e.isBlank);\n                this.enable(this.wrapper.find('[data-command=\\'DownloadCommand\\']'), !e.isBlank);\n                this.enable(this.wrapper.find('[data-command=\\'PrintCommand\\']'), !e.isBlank);\n            },\n            _updateZoomComboBox: function (value) {\n                var isPredefined = value === PREDEFINED_ZOOM_VALUES.auto || value === PREDEFINED_ZOOM_VALUES.actual;\n                if (!isPredefined) {\n                    value = Math.round(value * 100) + '%';\n                }\n                if (this.zoom && this.zoom.combobox) {\n                    this.zoom._currentValue = value;\n                    this.zoom.combobox.value(value);\n                }\n            },\n            action: function (args) {\n                this.trigger(ACTION, args);\n            },\n            destroy: function () {\n                if (this.pager) {\n                    this.pager.destroy();\n                }\n                if (this.zoom) {\n                    this.zoom.destroy();\n                }\n                ToolBar.fn.destroy.call(this);\n            }\n        });\n        extend(kendo.pdfviewer, {\n            Toolbar: ViewerToolBar,\n            DefaultTools: DefaultTools\n        });\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('util/text-metrics', ['kendo.core'], f);\n}(function () {\n    (function ($) {\n        window.kendo.util = window.kendo.util || {};\n        var LRUCache = kendo.Class.extend({\n            init: function (size) {\n                this._size = size;\n                this._length = 0;\n                this._map = {};\n            },\n            put: function (key, value) {\n                var map = this._map;\n                var entry = {\n                    key: key,\n                    value: value\n                };\n                map[key] = entry;\n                if (!this._head) {\n                    this._head = this._tail = entry;\n                } else {\n                    this._tail.newer = entry;\n                    entry.older = this._tail;\n                    this._tail = entry;\n                }\n                if (this._length >= this._size) {\n                    map[this._head.key] = null;\n                    this._head = this._head.newer;\n                    this._head.older = null;\n                } else {\n                    this._length++;\n                }\n            },\n            get: function (key) {\n                var entry = this._map[key];\n                if (entry) {\n                    if (entry === this._head && entry !== this._tail) {\n                        this._head = entry.newer;\n                        this._head.older = null;\n                    }\n                    if (entry !== this._tail) {\n                        if (entry.older) {\n                            entry.older.newer = entry.newer;\n                            entry.newer.older = entry.older;\n                        }\n                        entry.older = this._tail;\n                        entry.newer = null;\n                        this._tail.newer = entry;\n                        this._tail = entry;\n                    }\n                    return entry.value;\n                }\n            }\n        });\n        var REPLACE_REGEX = /\\r?\\n|\\r|\\t/g;\n        var SPACE = ' ';\n        function normalizeText(text) {\n            return String(text).replace(REPLACE_REGEX, SPACE);\n        }\n        function objectKey(object) {\n            var parts = [];\n            for (var key in object) {\n                parts.push(key + object[key]);\n            }\n            return parts.sort().join('');\n        }\n        function hashKey(str) {\n            var hash = 2166136261;\n            for (var i = 0; i < str.length; ++i) {\n                hash += (hash << 1) + (hash << 4) + (hash << 7) + (hash << 8) + (hash << 24);\n                hash ^= str.charCodeAt(i);\n            }\n            return hash >>> 0;\n        }\n        function zeroSize() {\n            return {\n                width: 0,\n                height: 0,\n                baseline: 0\n            };\n        }\n        var DEFAULT_OPTIONS = { baselineMarkerSize: 1 };\n        var defaultMeasureBox;\n        if (typeof document !== 'undefined') {\n            defaultMeasureBox = document.createElement('div');\n            defaultMeasureBox.style.cssText = 'position: absolute !important; top: -4000px !important; width: auto !important; height: auto !important;' + 'padding: 0 !important; margin: 0 !important; border: 0 !important;' + 'line-height: normal !important; visibility: hidden !important; white-space: pre!important;';\n        }\n        var TextMetrics = kendo.Class.extend({\n            init: function (options) {\n                this._cache = new LRUCache(1000);\n                this.options = $.extend({}, DEFAULT_OPTIONS, options);\n            },\n            measure: function (text, style, options) {\n                if (options === void 0) {\n                    options = {};\n                }\n                if (!text) {\n                    return zeroSize();\n                }\n                var styleKey = objectKey(style);\n                var cacheKey = hashKey(text + styleKey);\n                var cachedResult = this._cache.get(cacheKey);\n                if (cachedResult) {\n                    return cachedResult;\n                }\n                var size = zeroSize();\n                var measureBox = options.box || defaultMeasureBox;\n                var baselineMarker = this._baselineMarker().cloneNode(false);\n                for (var key in style) {\n                    var value = style[key];\n                    if (typeof value !== 'undefined') {\n                        measureBox.style[key] = value;\n                    }\n                }\n                var textStr = options.normalizeText !== false ? normalizeText(text) : String(text);\n                measureBox.textContent = textStr;\n                measureBox.appendChild(baselineMarker);\n                document.body.appendChild(measureBox);\n                if (textStr.length) {\n                    size.width = measureBox.offsetWidth - this.options.baselineMarkerSize;\n                    size.height = measureBox.offsetHeight;\n                    size.baseline = baselineMarker.offsetTop + this.options.baselineMarkerSize;\n                }\n                if (size.width > 0 && size.height > 0) {\n                    this._cache.put(cacheKey, size);\n                }\n                measureBox.parentNode.removeChild(measureBox);\n                return size;\n            },\n            _baselineMarker: function () {\n                var marker = document.createElement('div');\n                marker.style.cssText = 'display: inline-block; vertical-align: baseline;width: ' + this.options.baselineMarkerSize + 'px; height: ' + this.options.baselineMarkerSize + 'px;overflow: hidden;';\n                return marker;\n            }\n        });\n        TextMetrics.current = new TextMetrics();\n        function measureText(text, style, measureBox) {\n            return TextMetrics.current.measure(text, style, measureBox);\n        }\n        kendo.deepExtend(kendo.util, {\n            LRUCache: LRUCache,\n            TextMetrics: TextMetrics,\n            measureText: measureText,\n            objectKey: objectKey,\n            hashKey: hashKey,\n            normalizeText: normalizeText\n        });\n    }(window.kendo.jQuery));\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('pdfviewer/page', ['kendo.drawing'], f);\n}(function () {\n    (function ($, undefined) {\n        var extend = $.extend, noop = $.noop, drawing = kendo.drawing, Group = drawing.Group, Surface = drawing.Surface, RENDER = 'render', Class = kendo.Class;\n        var geometryTypes = {\n            Path: 'path',\n            MultiPath: 'multipath',\n            Rect: 'rect',\n            Image: 'image',\n            Text: 'text'\n        };\n        var Page = Class.extend({\n            init: function (options, viewer) {\n                this.viewer = viewer;\n                this.processor = options.processor;\n                this.options = options;\n                this.pageNumber = options.number;\n                this.element = $('<div class=\\'k-page\\' />');\n                this.element.attr(kendo.attr('number'), this.pageNumber);\n                this._updatePageSize(options);\n                this.width = options.width;\n                this.height = options.height;\n            },\n            resize: function (ratio) {\n                var pageElement = this.element;\n                this._updatePageSize({\n                    width: Math.min(pageElement.width() * ratio, this.width),\n                    height: Math.min(pageElement.height() * ratio, this.height)\n                });\n            },\n            _updatePageSize: function (size) {\n                this.element.width(size.width).height(size.height);\n            },\n            destroy: function () {\n                kendo.destroy(this.element);\n            },\n            render: noop\n        });\n        var DPLPage = Page.extend({\n            draw: function () {\n                var that = this, geometries = that.options.geometries;\n                that.group = new Group();\n                that.surface.draw(that.group);\n                that._drawGeometries(geometries);\n                that.viewer.trigger(RENDER, { page: this });\n                kendo.ui.progress(that.element, false);\n            },\n            load: function () {\n                var that = this;\n                if (that.loaded || !that.processor) {\n                    return;\n                }\n                that.processor.fetchPageData(that.pageNumber).then(function (data) {\n                    that.options = data;\n                    that._initSurface();\n                    that.draw();\n                });\n                that.loaded = true;\n            },\n            _initSurface: function () {\n                var size = {\n                    width: this.element.width(),\n                    height: this.element.height()\n                };\n                var surfaceOptions = extend({\n                    width: this.width,\n                    height: this.height\n                }, this.viewer.options.view);\n                this.surface = new Surface(this.element, surfaceOptions);\n                this._updatePageSize(size);\n            },\n            _drawGeometries: function (geometries) {\n                var that = this, kGeometry;\n                if (!geometries) {\n                    return;\n                }\n                for (var i = 0; i <= geometries.length; i++) {\n                    var geometry = geometries[i];\n                    if (!geometry) {\n                        continue;\n                    }\n                    switch (geometry.type) {\n                    case geometryTypes.Path:\n                    case geometryTypes.MultiPath:\n                        kGeometry = that._drawPath(geometry);\n                        break;\n                    case geometryTypes.Rect:\n                        kGeometry = that._drawRect(geometry);\n                        break;\n                    case geometryTypes.Image:\n                        kGeometry = that._drawImage(geometry);\n                        break;\n                    case geometryTypes.Text:\n                        kGeometry = that._drawText(geometry);\n                        break;\n                    default:\n                        kGeometry = null;\n                        break;\n                    }\n                    if (kGeometry) {\n                        that.group.append(kGeometry);\n                    }\n                }\n            },\n            _drawRect: function (geometry) {\n                var rectGeo = new kendo.geometry.Rect(geometry.point, geometry.size);\n                return new drawing.Rect(rectGeo, {\n                    transform: this._getMatrix(geometry.transform),\n                    fill: geometry.fillOptions,\n                    stroke: geometry.strokeOptions\n                });\n            },\n            _drawImage: function (geometry) {\n                var imageRect = new kendo.geometry.Rect(geometry.point, geometry.size);\n                return new drawing.Image(geometry.src, imageRect, { transform: this._getMatrix(geometry.transform) });\n            },\n            _drawText: function (geometry) {\n                var options = {\n                    transform: this._getMatrix(geometry.transform),\n                    stroke: geometry.strokeOptions,\n                    fill: geometry.fillOptions,\n                    font: geometry.font\n                };\n                return new kendo.drawing.Text(geometry.content, geometry.point, options);\n            },\n            _drawPath: function (geometry) {\n                var options = {\n                    transform: this._getMatrix(geometry.transform),\n                    stroke: geometry.strokeOptions,\n                    fill: geometry.fillOptions\n                };\n                var path = new drawing.MultiPath(options);\n                for (var i = 0; i < geometry.paths.length; i++) {\n                    var subPath = geometry.paths[i];\n                    if (!subPath.segments) {\n                        return;\n                    }\n                    path.moveTo.apply(path, subPath.point);\n                    for (var j = 0; j < subPath.segments.length; j++) {\n                        var segment = subPath.segments[j];\n                        var drawAction = segment.points.length === 1 ? path.lineTo : path.curveTo;\n                        drawAction.apply(path, segment.points);\n                    }\n                    if (subPath.closed) {\n                        path.close();\n                    }\n                }\n                return path;\n            },\n            _getMatrix: function (transform) {\n                var matrix = Object.create(kendo.geometry.Matrix.prototype);\n                kendo.geometry.Matrix.apply(matrix, transform);\n                return matrix;\n            }\n        });\n        var PDFJSPage = Page.extend({\n            init: function (options, viewer) {\n                var that = this, canvas;\n                canvas = $('<canvas style=\\'width: 100%; height: 100%;\\' />');\n                that.canvas = canvas.get(0);\n                Page.fn.init.call(that, options, viewer);\n                that.canvas.width = that.width;\n                that.canvas.height = that.height;\n                that.element.append(canvas);\n            },\n            load: function (defaultScale, force) {\n                var that = this;\n                if (that._scale === defaultScale && !force) {\n                    return;\n                } else if (that._scale && that._scale !== defaultScale && !force) {\n                    that._scale = defaultScale;\n                    that.render(defaultScale);\n                    return;\n                }\n                if (that.processor) {\n                    that.processor.fetchPageData(that.pageNumber).then(function (page) {\n                        that._page = page;\n                        return that.render(defaultScale).then(function () {\n                            that.viewer.trigger(RENDER, { page: that });\n                        });\n                    });\n                }\n                that._scale = defaultScale;\n                that.loaded = true;\n            },\n            render: function (scale) {\n                var that = this;\n                var context = this.canvas.getContext('2d'), viewport = this._page.getViewport({ scale: scale });\n                this._scale = scale;\n                this.canvas.width = viewport.width;\n                this.canvas.height = viewport.height;\n                if (this._renderTask) {\n                    this._renderTask.cancel();\n                    this._renderTask = null;\n                }\n                this._updatePageSize({\n                    width: viewport.width,\n                    height: viewport.height\n                });\n                this._renderTask = this._page.render({\n                    canvasContext: context,\n                    viewport: viewport\n                });\n                this._renderTextLayer(viewport);\n                return this._renderTask.promise.then(function () {\n                    that._renderTask = null;\n                }).catch(function () {\n                });\n            },\n            _renderTextLayer: function (viewport) {\n                var that = this;\n                var page = that._page;\n                if (that.textLayer) {\n                    that.textLayer.remove();\n                }\n                that.textLayer = $('<div class=\\'k-text-layer\\'></div>').get(0);\n                that.element.append(that.textLayer);\n                page.getTextContent({ normalizeWhitespace: true }).then(function (textContent) {\n                    $(that.textLayer).css({\n                        height: viewport.height,\n                        width: viewport.width\n                    }).html('');\n                    var params = {\n                        textContent: textContent,\n                        container: that.textLayer,\n                        viewport: viewport,\n                        textDivs: [],\n                        enhanceTextSelection: true\n                    };\n                    that.processor.renderTextLayer(params);\n                });\n            }\n        });\n        extend(kendo.pdfviewer.dpl, {\n            geometryTypes: geometryTypes,\n            Page: DPLPage\n        });\n        extend(kendo.pdfviewer.pdfjs, { Page: PDFJSPage });\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('pdfviewer/search', ['kendo.core'], f);\n}(function () {\n    (function ($, undefined) {\n        var Class = kendo.Class, extend = $.extend, isArray = $.isArray;\n        var SearchDOM = Class.extend({\n            init: function (options) {\n                var that = this;\n                that.options = extend({}, that.options, options);\n                that.processDom();\n            },\n            options: {\n                highlightClass: 'k-search-highlight',\n                charClass: 'k-text-char'\n            },\n            processDom: function () {\n                var that = this;\n                that.targets = isArray(that.options.target) ? that.options.target : [that.options.target];\n                that.textNodes = [];\n                that.charIndex = 0;\n                that.text = '';\n                that.targets.forEach(function (target) {\n                    that.traverseToTextNode(target);\n                });\n                for (var i = 0; i < that.textNodes.length; i++) {\n                    that.processTextNode(that.textNodes[i]);\n                }\n            },\n            traverseToTextNode: function (node) {\n                var that = this;\n                if (node.nodeType === 3) {\n                    that.textNodes.push(node);\n                } else {\n                    for (var i = 0; i < node.childNodes.length; i++) {\n                        that.traverseToTextNode(node.childNodes[i]);\n                    }\n                }\n            },\n            processTextNode: function (node) {\n                var that = this;\n                var text = node.textContent;\n                var span;\n                that.text = that.text + text;\n                if (text.length > 0) {\n                    span = $(node).wrap('<span>').parent();\n                    span.empty();\n                    that.splitChars(span.get(0), text);\n                    span.children().unwrap('<span>');\n                }\n            },\n            splitChars: function (span, text) {\n                var that = this;\n                var newHtml = '';\n                for (var i = 0; i < text.length; i++) {\n                    newHtml = newHtml + '<span class=\\'' + that.options.charClass + '\\' ' + kendo.attr('char-index') + '=' + that.charIndex + '>' + text[i] + '</span>';\n                    that.charIndex++;\n                }\n                span.innerHTML = newHtml;\n            },\n            search: function (value, matchCase) {\n                var that = this;\n                var expression = new RegExp(value, !matchCase ? 'gi' : 'g');\n                var match;\n                that.matches = [];\n                that.resetMark();\n                that.resetHighlight();\n                that.resetMatchIndex();\n                if (value === '') {\n                    return;\n                }\n                match = expression.exec(that.text);\n                while (match) {\n                    that.matches.push({\n                        startOffset: match.index,\n                        endOffset: match.index + match[0].length\n                    });\n                    match = expression.exec(that.text);\n                }\n                that.highlightAll();\n                that.mark();\n            },\n            highlightAll: function () {\n                var that = this;\n                that.matches.forEach(function (match, index) {\n                    var start = match.startOffset;\n                    var end = match.endOffset;\n                    that.highlight(start, end, index + 1);\n                });\n            },\n            highlight: function (start, end, matchIndex) {\n                var that = this;\n                for (var i = start; i < end; i++) {\n                    $(that.targets).find('.' + that.options.charClass + '[' + kendo.attr('char-index') + '=' + i + ']').addClass(that.options.highlightClass).attr(kendo.attr('match-index'), matchIndex);\n                }\n            },\n            resetHighlight: function () {\n                var that = this;\n                $(that.targets).find('.' + that.options.highlightClass).removeClass(that.options.highlightClass);\n            },\n            resetMatchIndex: function () {\n                var that = this;\n                $(that.targets).find('.' + that.options.charClass + '[' + kendo.attr('match-index') + ']').removeAttr(kendo.attr('match-index'));\n            },\n            mark: function () {\n                var that = this;\n                if (!that.currentIndex && that.currentIndex !== 0) {\n                    that.currentIndex = 0;\n                } else if (that.currentIndex > that.matches.length) {\n                    that.currentIndex = that.matches.length;\n                } else {\n                    that.resetMark();\n                }\n                $(that.targets).find('.' + that.options.charClass + '[' + kendo.attr('match-index') + '=' + that.currentIndex + ']').wrapInner('<mark>');\n            },\n            resetMark: function () {\n                var that = this;\n                $(that.targets).find('mark').contents().unwrap();\n            },\n            nextMatch: function () {\n                var that = this;\n                that.currentIndex++;\n                if (that.currentIndex > that.matches.length) {\n                    that.currentIndex = 1;\n                }\n                that.mark();\n            },\n            previousMatch: function () {\n                var that = this;\n                that.currentIndex--;\n                if (that.currentIndex < 1) {\n                    that.currentIndex = that.matches.length;\n                }\n                that.mark();\n            },\n            getMarkedIndex: function () {\n                return this.matches.length ? this.currentIndex : 0;\n            },\n            getFirstMarked: function () {\n                return $(this.targets).find('mark').eq(0);\n            },\n            destroy: function () {\n                var that = this;\n                that.resetMark();\n                $(that.targets).children('span:not(.' + that.options.charClass + ')').each(function (i, item) {\n                    $(item).text($(item).text());\n                });\n            }\n        });\n        extend(kendo.pdfviewer, { SearchDOM: SearchDOM });\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('pdfviewer/dialogs', [\n        'kendo.dialog',\n        'kendo.window',\n        'kendo.binder',\n        'kendo.numerictextbox',\n        'kendo.dropdownlist'\n    ], f);\n}(function () {\n    (function ($, undefined) {\n        var kendo = window.kendo, extend = $.extend, Class = kendo.Class, EXTENSIONS = {\n                svg: '.svg',\n                png: '.png'\n            }, keys = kendo.keys;\n        var ErrorDialog = Class.extend({\n            init: function (options) {\n                this.options = extend(options, { actions: [{ text: options.messages.dialogs.okText }] });\n                this._dialog = $('<div />').kendoDialog(this.options).getKendoDialog();\n            },\n            open: function () {\n                this._dialog.center().open();\n            }\n        });\n        var ExportAsDialog = Class.extend({\n            init: function (options) {\n                this.options = extend(options, this.options, {\n                    fileFormats: [\n                        {\n                            description: options.messages.dialogs.exportAsDialog.png,\n                            extension: EXTENSIONS.png\n                        },\n                        {\n                            description: options.messages.dialogs.exportAsDialog.svg,\n                            extension: EXTENSIONS.svg\n                        }\n                    ],\n                    title: options.messages.dialogs.exportAsDialog.title,\n                    open: function () {\n                        this.center();\n                    }\n                });\n                this._initializeDialog();\n                return this;\n            },\n            options: {\n                extension: EXTENSIONS.png,\n                autoFocus: true,\n                resizable: false,\n                modal: { preventScroll: true },\n                width: '90%',\n                maxWidth: 520,\n                template: '<div class=\\'k-edit-label\\'><label>#: messages.exportAsDialog.labels.fileName #:</label></div>' + '<div class=\\'k-edit-field\\'>' + '<input class=\\'k-textbox\\' data-bind=\\'value: name\\' />' + '</div>' + '<div>' + '<div class=\\'k-edit-label\\'><label>#: messages.exportAsDialog.labels.saveAsType #:</label></div>' + '<div class=\\'k-edit-field\\'>' + '<select data-role=\\'dropdownlist\\' class=\\'k-file-format\\' ' + 'data-text-field=\\'description\\' ' + 'data-value-field=\\'extension\\' ' + 'data-bind=\\'value: extension, source: fileFormats\\' />' + '</div>' + '</div>' + '<div class=\\'k-edit-label\\'><label>#: messages.exportAsDialog.labels.page #:</label></div>' + '<div class=\\'k-edit-field\\'>' + '<input data-role=\\'numerictextbox\\' data-format=\\'n0\\' data-min=\\'1\\' data-max=\\'#: total #\\' data-bind=\\'value: page\\' />' + '</div>' + '<div class=\\'k-action-buttons\\'>' + '<button class=\\'k-button k-primary\\' data-bind=\\'click: apply\\'>#: messages.save #</button>' + '<button class=\\'k-button\\' data-bind=\\'click: close\\'>#: messages.cancel #</button>' + '</div>'\n            },\n            _updateModel: function (options) {\n                if (options.pagesCount) {\n                    this.viewModel.set('pagesCount', options.pagesCount);\n                }\n                if (options.page) {\n                    this.viewModel.set('page', options.page);\n                }\n            },\n            _initializeDialog: function () {\n                var that = this;\n                var options = that.options;\n                var dialogMessages = options.messages.dialogs;\n                var dialog = $('<div class=\\'k-pdf-viewer-window k-action-window k-popup-edit-form\\' />').append(kendo.template(options.template)({\n                    total: options.pagesCount,\n                    messages: dialogMessages\n                })).kendoWindow(options).getKendoWindow();\n                that.viewModel = kendo.observable({\n                    title: dialogMessages.exportAsDialog.title,\n                    name: dialogMessages.exportAsDialog.defaultFileName,\n                    extension: options.extension,\n                    fileFormats: options.fileFormats,\n                    pagesCount: options.pagesCount,\n                    page: 1,\n                    apply: that.apply.bind(this),\n                    close: function () {\n                        dialog.close();\n                    }\n                });\n                that._dialog = dialog;\n                kendo.bind(dialog.element, that.viewModel);\n                return dialog;\n            },\n            open: function () {\n                this._dialog.center().open();\n            },\n            apply: function () {\n                this._dialog.close();\n                this.options.apply({\n                    fileName: this.viewModel.name + this.viewModel.extension,\n                    extension: this.viewModel.extension,\n                    page: this.viewModel.page\n                });\n            }\n        });\n        var SearchDialog = Class.extend({\n            init: function (options) {\n                var that = this;\n                that.options = extend({}, options, that.options);\n            },\n            options: {\n                resizable: false,\n                template: '<div class=\\'k-search-container\\'>' + '<button class=\\'k-button k-button-icon k-flat k-search-dialog-draghandle\\'><span class=\\'k-icon k-i-handler-drag\\'></span></button>' + '<span class=\\'k-textbox\\'>' + '<input class=\\'k-search-dialog-input\\' data-bind=\\'value: boundValue, events: { keyup: onKeyup, input: onInput }\\' aria-label=\\'#: messages.inputLabel #\\' title=\\'#: messages.inputLabel #\\' />' + '<button class=\\'k-button k-button-icon k-flat k-match-case-button\\' data-bind=\\'css: {k-state-selected: matchCase}, click: matchCaseClick\\' aria-label=\\'#: messages.matchCase #\\' title=\\'#: messages.matchCase #\\'><span class=\\'k-icon k-i-convert-lowercase\\'></span></button>' + '</span>' + '<span class=\\'k-search-matches\\'><span data-bind=\\'text: matchIndex\\'></span> #: messages.of # <span data-bind=\\'text: matches\\'></span></span>' + '<button class=\\'k-button k-button-icon k-flat\\' data-bind=\\'click: prev\\' aria-label=\\'#: messages.previous #\\' title=\\'#: messages.previous #\\'><span class=\\'k-icon k-i-arrow-up\\'></span></button>' + '<button class=\\'k-button k-button-icon k-flat\\' data-bind=\\'click: next\\' aria-label=\\'#: messages.next #\\' title=\\'#: messages.next #\\'><span class=\\'k-icon k-i-arrow-down\\'></span></button>' + '<button class=\\'k-button k-button-icon k-flat\\' data-bind=\\'click: close\\' aria-label=\\'#: messages.close #\\' title=\\'#: messages.close #\\'><span class=\\'k-icon k-i-close\\'></<span></button>' + '</div>'\n            },\n            open: function () {\n                var that = this;\n                if (!that.dialog) {\n                    that._initializeDialog();\n                }\n                that.dialog.open();\n            },\n            _initializeDialog: function () {\n                var that = this;\n                var template = kendo.template(that.options.template);\n                var dialogElm = $('<div class=\\'k-pdf-viewer-search-dialog\\'></div>').append(template({ messages: that.options.messages }));\n                var dialogOffset = {\n                    top: that.options.position.top + 16,\n                    left: that.options.position.left + 16\n                };\n                that.dialog = new kendo.ui.Window(dialogElm, extend({}, that.options, {\n                    autoFocus: false,\n                    title: false,\n                    position: {\n                        top: dialogOffset.top,\n                        left: dialogOffset.left\n                    },\n                    minHeight: 30,\n                    draggable: { dragHandle: '.k-search-dialog-draghandle' },\n                    activate: function (ev) {\n                        ev.sender.element.find('.k-search-dialog-input').focus();\n                    }\n                }));\n                that.searchModel = kendo.observable({\n                    boundValue: '',\n                    searchText: '',\n                    matchCase: false,\n                    matchIndex: 0,\n                    matches: 0,\n                    matchCaseClick: function () {\n                        this.set('matchCase', !this.matchCase);\n                    },\n                    next: that.options.next,\n                    prev: that.options.prev,\n                    close: function () {\n                        this.set('boundValue', '');\n                        that.dialog.close();\n                    },\n                    onKeyup: function (ev) {\n                        var key = ev.keyCode;\n                        var navigationFn = ev.shiftKey ? this.prev : this.next;\n                        if (key === keys.ENTER) {\n                            navigationFn();\n                            ev.preventDefault();\n                        }\n                    },\n                    onInput: function (ev) {\n                        this.set('searchText', ev.target.value);\n                    }\n                });\n                kendo.bind(that.dialog.element, that.searchModel);\n            }\n        });\n        extend(kendo.pdfviewer, {\n            dialogs: {\n                ErrorDialog: ErrorDialog,\n                ExportAsDialog: ExportAsDialog,\n                SearchDialog: SearchDialog\n            }\n        });\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('pdfviewer/commands', ['kendo.upload'], f);\n}(function () {\n    (function ($, undefined) {\n        var kendo = window.kendo, proxy = $.proxy, extend = $.extend, parseJSON = $.parseJSON, progress = kendo.ui.progress, Class = kendo.Class, OPEN = 'open', ZOOMSTART = 'zoomStart', ZOOMEND = 'zoomEnd';\n        var Command = Class.extend({\n            init: function (options) {\n                this.options = options;\n                this.viewer = options.viewer;\n                this.errorMessages = this.viewer.options.messages.errorMessages;\n            }\n        });\n        var OpenCommand = Command.extend({\n            init: function (options) {\n                Command.fn.init.call(this, options);\n                this.upload = this.viewer.processor.upload;\n            },\n            exec: function () {\n                (this.viewer._upload || this._initUpload()).element.click();\n            },\n            _initUpload: function () {\n                var uploadOptions = {\n                    select: proxy(this._onSelect, this),\n                    success: proxy(this._onSuccess, this),\n                    error: proxy(this._onError, this),\n                    complete: proxy(this._onComplete, this),\n                    showFileList: false,\n                    multiple: false,\n                    validation: { allowedExtensions: ['.pdf'] }\n                };\n                if (this.upload) {\n                    extend(uploadOptions, {\n                        async: {\n                            saveUrl: this.upload.url,\n                            autoUpload: true,\n                            saveField: this.upload.saveField\n                        }\n                    });\n                }\n                var upload = $('<input name=\"files\" accept=\".pdf\" type=\"file\" />').kendoUpload(uploadOptions).getKendoUpload();\n                this.viewer._upload = upload;\n                return upload;\n            },\n            _onComplete: function () {\n                progress(this.viewer.pageContainer, false);\n            },\n            _onSuccess: function (e) {\n                var json = parseJSON(e.response);\n                if ($.isPlainObject(json)) {\n                    this.viewer.processor.fromJSON(json);\n                } else {\n                    this.viewer._triggerError({\n                        error: json,\n                        message: this.errorMessages.parseError\n                    });\n                }\n            },\n            _onError: function (e) {\n                this.viewer._triggerError({\n                    error: e.XMLHttpRequest.responseText,\n                    message: this.errorMessages.notSupported\n                });\n            },\n            _onSelect: function (e) {\n                var that = this;\n                var fileToUpload = e.files[0];\n                progress(that.viewer.pageContainer, true);\n                if (that.viewer.trigger(OPEN, { file: fileToUpload }) || that.upload) {\n                    return;\n                } else if (fileToUpload.extension.toLowerCase() !== '.pdf') {\n                    that.viewer._triggerError({\n                        error: fileToUpload,\n                        message: that.errorMessages.notSupported\n                    });\n                    return;\n                }\n                var reader = new FileReader();\n                reader.onload = function (e) {\n                    var document = e.target.result;\n                    that.viewer.fromFile(document);\n                };\n                reader.onerror = function () {\n                    that.viewer._triggerError({\n                        error: fileToUpload,\n                        message: that.errorMessages.parseError\n                    });\n                };\n                reader.readAsArrayBuffer(fileToUpload.rawFile);\n            }\n        });\n        var PageChangeCommand = Command.extend({\n            exec: function () {\n                var pageNumber = this.options.value;\n                this.viewer.activatePage(pageNumber);\n            }\n        });\n        var DownloadCommand = Command.extend({\n            exec: function () {\n                if (!this.viewer.document) {\n                    this.viewer._triggerError({ message: this.errorMessages.notFound });\n                    return;\n                }\n                var fileName = this.viewer.document.info && this.viewer.document.info.title || this.viewer.options.messages.defaultFileName;\n                this.viewer.processor.downloadFile(fileName);\n            }\n        });\n        var ExportCommand = Command.extend({\n            init: function (options) {\n                options = $.extend(options, this.options);\n                Command.fn.init.call(this, options);\n            },\n            exec: function () {\n                var dialog = this.viewer._saveDialog || this._initDialog();\n                dialog._updateModel({\n                    pagesCount: this.viewer.document && this.viewer.document.total || 1,\n                    page: this.viewer.options.page\n                });\n                dialog.open();\n            },\n            apply: function (viewModel) {\n                var extension = viewModel.extension;\n                if (extension === '.png') {\n                    this.viewer.exportImage(viewModel);\n                } else if (extension === '.svg') {\n                    this.viewer.exportSVG(viewModel);\n                }\n            },\n            _initDialog: function () {\n                this.viewer._saveDialog = new kendo.pdfviewer.dialogs.ExportAsDialog({\n                    apply: this.apply.bind(this),\n                    pagesCount: this.viewer.document && this.viewer.document.total || 1,\n                    messages: this.viewer.options.messages\n                });\n                return this.viewer._saveDialog;\n            }\n        });\n        var EnableSelectionCommand = Command.extend({\n            exec: function () {\n                var that = this, viewer = that.viewer;\n                viewer._toggleSelection(true);\n            }\n        });\n        var EnablePanCommand = Command.extend({\n            exec: function () {\n                var that = this, viewer = that.viewer;\n                viewer._toggleSelection(false);\n            }\n        });\n        var OpenSearchCommand = Command.extend({\n            init: function (options) {\n                var that = this;\n                that.viewer = options.viewer;\n                if (!that.viewer.searchDialog) {\n                    that.viewer.searchDialog = new kendo.pdfviewer.dialogs.SearchDialog({\n                        position: {\n                            top: that.viewer.pageContainer.offset().top,\n                            left: that.viewer.pageContainer.offset().left\n                        },\n                        messages: that.viewer.options.messages.dialogs.search,\n                        open: proxy(that._open, that),\n                        next: proxy(that._next, that),\n                        prev: proxy(that._prev, that),\n                        close: proxy(that._close, that)\n                    });\n                }\n                Command.fn.init.call(that, options);\n            },\n            exec: function () {\n                var that = this;\n                that.viewer.searchDialog.open();\n            },\n            _open: function () {\n                var that = this;\n                that.changeHandler = proxy(that._change, that);\n                that.zoomStartHandler = proxy(that._closeDialog, that);\n                that.openFileHandler = proxy(that._closeDialog, that);\n                if (!that.viewer._searchDOM) {\n                    that.viewer._initSearchDOM();\n                    that.viewer.searchDialog.searchModel.bind('change', that.changeHandler);\n                    that.viewer.bind('zoomStart', that.zoomStartHandler);\n                    that.viewer.bind('open', that.openFileHandler);\n                }\n            },\n            _close: function () {\n                var that = this;\n                var searchEngine = that.viewer._searchDOM;\n                that.viewer.searchDialog.searchModel.unbind('change', that.changeHandler);\n                that.viewer.unbind('zoomStart', that.zoomStartHandler);\n                that.viewer.unbind('open', that.openFileHandler);\n                searchEngine.destroy();\n                delete that.viewer._searchDOM;\n                that._updateSearchModel();\n            },\n            _change: function (ev) {\n                var that = this;\n                var searchEngine = that.viewer._searchDOM;\n                var field = ev.field;\n                var model = that.viewer.searchDialog.searchModel;\n                var value = model[field];\n                if (!searchEngine) {\n                    return;\n                }\n                switch (field) {\n                case 'searchText':\n                    searchEngine.search(value, model.matchCase);\n                    that._updateSearchModel();\n                    break;\n                case 'matchCase':\n                    searchEngine.search(model.searchText, value);\n                    that._updateSearchModel();\n                    break;\n                default:\n                    break;\n                }\n            },\n            _next: function () {\n                var that = this;\n                var searchEngine = that.viewer._searchDOM;\n                if (searchEngine.matches && searchEngine.matches.length) {\n                    searchEngine.nextMatch();\n                    that._updateSearchModel();\n                }\n            },\n            _prev: function () {\n                var that = this;\n                var searchEngine = that.viewer._searchDOM;\n                if (searchEngine.matches && searchEngine.matches.length) {\n                    searchEngine.previousMatch();\n                    that._updateSearchModel();\n                }\n            },\n            _updateSearchModel: function () {\n                var that = this;\n                var searchEngine = that.viewer._searchDOM;\n                var model = that.viewer.searchDialog.searchModel;\n                if (searchEngine) {\n                    model.set('matches', searchEngine.matches.length);\n                    model.set('matchIndex', searchEngine.getMarkedIndex());\n                    that._scrollToMark();\n                } else {\n                    model.set('searchText', '');\n                    model.set('matches', 0);\n                    model.set('matchIndex', 0);\n                    model.set('matchCase', false);\n                }\n            },\n            _scrollToMark: function () {\n                var that = this;\n                var searchEngine = that.viewer._searchDOM;\n                var marked = searchEngine.getFirstMarked();\n                var scroller = that.viewer._scroller;\n                var position;\n                if (!marked.length) {\n                    return;\n                }\n                position = marked.offset().top - scroller.scrollElement.offset().top - 100;\n                scroller.scrollTo(scroller.scrollLeft, position * -1);\n            },\n            _closeDialog: function () {\n                var that = this;\n                that.viewer.searchDialog.dialog.close();\n            }\n        });\n        var ZoomCommand = Command.extend({\n            exec: function () {\n                var that = this, options = that.options, viewer = that.viewer, scale = options.scale, loadedPagesHeight = 0, page = that.viewer._pageNum, containerHeight = viewer.pageContainer[0].clientHeight, updatedVisiblePagesCount = 1, renderTasks = [];\n                if (viewer.processingLib === 'dpl') {\n                    return;\n                }\n                scale = that._calculateZoom();\n                var updateViewer = function () {\n                    var scroller = that.viewer._scroller, scrollingStarted = viewer._scrollingStarted;\n                    if (scroller.scrollTop > scroller.scrollHeight()) {\n                        scroller._resize();\n                    }\n                    if (!scrollingStarted) {\n                        viewer.activatePage(page);\n                        viewer._scrollingStarted = false;\n                    }\n                };\n                if (!scale) {\n                    return;\n                }\n                viewer.zoomScale = scale;\n                viewer._scrollingStarted = false;\n                viewer.pages.forEach(function (page) {\n                    var pageHeight;\n                    if (viewer._visiblePages.indexOf(page) !== -1 && page.loaded) {\n                        renderTasks.push(page.render(scale));\n                        pageHeight = page._page.getViewport({ scale: scale }).height;\n                    } else {\n                        page.resize(scale);\n                        pageHeight = page.element.height();\n                    }\n                    loadedPagesHeight += pageHeight;\n                    if (loadedPagesHeight <= containerHeight) {\n                        updatedVisiblePagesCount++;\n                    }\n                });\n                if (viewer._visiblePagesCount != updatedVisiblePagesCount) {\n                    viewer._visiblePagesCount = updatedVisiblePagesCount;\n                    viewer._loadVisiblePages();\n                }\n                Promise.all(renderTasks).then(function () {\n                    updateViewer();\n                    that._triggerZoomEnd(scale);\n                }).catch(function () {\n                    updateViewer();\n                    that._triggerZoomEnd(scale);\n                });\n            },\n            _calculateZoom: function () {\n                var options = this.options, viewer = this.viewer, viewerOptions = viewer.options, pageContainer = viewer.pageContainer, visibleCanvas = viewer._visiblePages && viewer._visiblePages[0].canvas, scale = options.scale, scaleValue = scale, preventZoom;\n                viewer._allowResize = false;\n                viewer._autoFit = false;\n                if (options.zoomIn) {\n                    scaleValue = scale = viewer.zoomScale + viewerOptions.zoomRate;\n                } else if (options.zoomOut) {\n                    scaleValue = scale = viewer.zoomScale - viewerOptions.zoomRate;\n                } else if (scale === 'auto') {\n                    viewer._allowResize = true;\n                    scaleValue = viewer._autoZoomScale;\n                } else if (scale === 'actual') {\n                    scaleValue = 1;\n                } else if (scale === 'fitToWidth') {\n                    viewer._allowResize = true;\n                    viewer._autoFit = 'fitToWidth';\n                    scaleValue = pageContainer.width() / (visibleCanvas.width / viewer.zoomScale);\n                } else if (scale === 'fitToPage') {\n                    viewer._allowResize = true;\n                    viewer._autoFit = 'fitToPage';\n                    scaleValue = pageContainer.height() / (visibleCanvas.height / viewer.zoomScale);\n                }\n                preventZoom = scale < viewerOptions.zoomMin || scale > viewerOptions.zoomMax;\n                if (preventZoom || viewer.trigger(ZOOMSTART, { scale: scale })) {\n                    return;\n                }\n                if (options.updateComboBox) {\n                    viewer.toolbar._updateZoomComboBox(scale);\n                }\n                return scaleValue;\n            },\n            _triggerZoomEnd: function (scale) {\n                var that = this, viewer = that.viewer;\n                viewer.trigger(ZOOMEND, { scale: scale });\n            }\n        });\n        var PrintCommand = Command.extend({\n            init: function (options) {\n                Command.fn.init.call(this, options);\n            },\n            exec: function () {\n                var that = this;\n                if (!that.viewer.document) {\n                    that.viewer._triggerError({ message: this.errorMessages.notFound });\n                    return;\n                }\n                that._renderPrintContainer();\n                that._loadAllPages();\n            },\n            _renderPrintContainer: function () {\n                this.printContainer = $('<div></div>');\n            },\n            _loadAllPages: function () {\n                var that = this;\n                var pages = that.viewer.pages;\n                var originalScale = that.viewer.zoom();\n                var timeout = 20;\n                var printImmediately = true;\n                var interval;\n                for (var i = 0; i < pages.length; i++) {\n                    if (!pages[i].loaded) {\n                        printImmediately = false;\n                        pages[i].load(4 / 3, true);\n                        timeout += 20;\n                    }\n                }\n                var printHandler = function () {\n                    clearTimeout(interval);\n                    interval = setTimeout(function () {\n                        that.viewer.unbind('render', printHandler);\n                        that._renderPrintPages();\n                        setTimeout(function () {\n                            that._printDocument();\n                            that.viewer.zoom(originalScale);\n                        }, 0);\n                    }, timeout);\n                };\n                if (printImmediately) {\n                    printHandler();\n                } else {\n                    that.viewer.bind('render', printHandler);\n                }\n            },\n            _renderPrintPages: function () {\n                var pages = this.viewer.pages;\n                for (var i = 0; i < pages.length; i++) {\n                    this._renderPrintImage(pages[i]);\n                }\n            },\n            _renderPrintImage: function (page) {\n                var canvas = page.canvas;\n                var div = $('<div></div>');\n                var img = '<img src=\\'' + canvas.toDataURL() + '\\' width=\\'' + page.width + 'px\\' height=\\'' + page.height + 'px\\' />';\n                div.append(img);\n                this.printContainer.append(div);\n            },\n            _printDocument: function () {\n                var that = this;\n                var pages = that.viewer.pages;\n                var width = pages[0].width;\n                var height = pages[0].height;\n                var myWindow = window.open('', '', 'innerWidth=' + width + ',innerHeight=' + height + 'location=no,titlebar=no,toolbar=no');\n                myWindow.document.write(that.printContainer.html());\n                myWindow.document.close();\n                myWindow.focus();\n                myWindow.print();\n                myWindow.close();\n            }\n        });\n        extend(kendo.pdfviewer, {\n            OpenCommand: OpenCommand,\n            PageChangeCommand: PageChangeCommand,\n            DownloadCommand: DownloadCommand,\n            EnableSelectionCommand: EnableSelectionCommand,\n            EnablePanCommand: EnablePanCommand,\n            ExportCommand: ExportCommand,\n            PrintCommand: PrintCommand,\n            OpenSearchCommand: OpenSearchCommand,\n            ZoomCommand: ZoomCommand\n        });\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));\n(function (f, define) {\n    define('kendo.pdfviewer', [\n        'kendo.mobile.scroller',\n        'pdfviewer/processors/pdfjs-processor',\n        'pdfviewer/processors/dpl-processor',\n        'pdfviewer/toolbar',\n        'pdfviewer/page',\n        'pdfviewer/search',\n        'pdfviewer/dialogs',\n        'pdfviewer/commands',\n        'pdfviewer/search'\n    ], f);\n}(function () {\n    var __meta__ = {\n        id: 'pdfviewer',\n        name: 'PDFViewer',\n        category: 'web',\n        description: 'PDFViewer to display pdfs in the browser',\n        depends: [\n            'core',\n            'window',\n            'dialog',\n            'toolbar',\n            'mobile.scroller',\n            'upload',\n            'combobox',\n            'drawing',\n            'binder',\n            'dropdownlist',\n            'numerictextbox'\n        ]\n    };\n    (function ($, undefined) {\n        var NS = '.kendoPDFViewer', kendo = window.kendo, ui = kendo.ui, proxy = $.proxy, extend = $.extend, drawing = kendo.drawing, keys = $.extend({\n                PLUS: 187,\n                MINUS: 189,\n                ZERO: 48,\n                NUMPAD_ZERO: 96\n            }, kendo.keys), Page, Widget = ui.Widget, progress = kendo.ui.progress, SCROLL = 'scroll', RENDER = 'render', OPEN = 'open', ERROR = 'error', FOCUS = 'focus' + NS, KEYDOWN = 'keydown' + NS, MOUSEWHEEL = 'DOMMouseScroll' + NS + ' mousewheel' + NS, UPDATE = 'update', ZOOM_SCALE = 1.25, PAGE_CHANGE = 'pagechange', ZOOMSTART = 'zoomStart', ZOOMEND = 'zoomEnd', ZOOMCOMMAND = 'ZoomCommand', WHITECOLOR = '#ffffff', TABINDEX = 'tabindex', PROCESSORS = {\n                pdfjs: 'pdfjs',\n                dpl: 'dpl'\n            }, styles = {\n                viewer: 'k-pdf-viewer k-widget',\n                scroller: 'k-canvas k-list-scroller',\n                enableTextSelection: 'k-enable-text-select',\n                enablePanning: 'k-enable-panning',\n                highlightClass: 'k-search-highlight',\n                charClass: 'k-text-char'\n            };\n        var PDFViewer = Widget.extend({\n            init: function (element, options) {\n                var that = this;\n                Widget.fn.init.call(that, element, kendo.deepExtend({}, this.options, options));\n                that._wrapper();\n                if (that.options.toolbar) {\n                    that._renderToolbar();\n                }\n                that._initProcessor(options || {});\n                that._renderPageContainer();\n                that._loadDocument();\n                that._tabindex();\n                kendo.notify(that, kendo.ui);\n            },\n            events: [\n                RENDER,\n                OPEN,\n                ERROR,\n                ZOOMSTART,\n                ZOOMEND\n            ],\n            options: {\n                name: 'PDFViewer',\n                view: { type: 'canvas' },\n                pdfjsProcessing: { file: null },\n                dplProcessing: {\n                    read: {\n                        url: null,\n                        type: 'GET',\n                        dataType: 'json',\n                        pageField: 'pageNumber'\n                    },\n                    upload: {\n                        url: null,\n                        saveField: 'file'\n                    },\n                    download: { url: null },\n                    loadOnDemand: false\n                },\n                toolbar: { items: [] },\n                width: 1000,\n                height: 1200,\n                page: 1,\n                defaultPageSize: {\n                    width: 794,\n                    height: 1123\n                },\n                scale: null,\n                zoomMin: 0.5,\n                zoomMax: 4,\n                zoomRate: 0.25,\n                messages: {\n                    defaultFileName: 'Document',\n                    toolbar: {\n                        zoom: {\n                            zoomOut: 'Zoom Out',\n                            zoomIn: 'Zoom In',\n                            actualWidth: 'Actual Width',\n                            autoWidth: 'Automatic Width',\n                            fitToWidth: 'Fit to Width',\n                            fitToPage: 'Fit to Page'\n                        },\n                        open: 'Open',\n                        exportAs: 'Export',\n                        download: 'Download',\n                        pager: {\n                            first: 'Go to the first page',\n                            previous: 'Go to the previous page',\n                            next: 'Go to the next page',\n                            last: 'Go to the last page',\n                            of: ' of {0} ',\n                            page: 'page',\n                            pages: 'pages'\n                        },\n                        print: 'Print',\n                        toggleSelection: 'Enable Selection',\n                        togglePan: 'Enable Panning',\n                        search: 'Search'\n                    },\n                    errorMessages: {\n                        notSupported: 'Only pdf files allowed.',\n                        parseError: 'PDF file fails to process.',\n                        notFound: 'File is not found.'\n                    },\n                    dialogs: {\n                        exportAsDialog: {\n                            title: 'Export...',\n                            defaultFileName: 'Document',\n                            pdf: 'Portable Document Format (.pdf)',\n                            png: 'Portable Network Graphics (.png)',\n                            svg: 'Scalable Vector Graphics (.svg)',\n                            labels: {\n                                fileName: 'File name',\n                                saveAsType: 'Save as',\n                                page: 'Page'\n                            }\n                        },\n                        okText: 'OK',\n                        save: 'Save',\n                        cancel: 'Cancel',\n                        search: {\n                            inputLabel: 'Search Text',\n                            matchCase: 'Match Case',\n                            next: 'Next Match',\n                            previous: 'Previous Match',\n                            close: 'Close',\n                            of: 'of'\n                        }\n                    }\n                }\n            },\n            _wrapper: function () {\n                var that = this, options = that.options;\n                that.wrapper = that.element;\n                that.wrapper.width(options.width).height(options.height).addClass(styles.viewer).on(FOCUS, proxy(that._focus, that)).on(KEYDOWN, proxy(that._keydown, that));\n                that._allowResize = that.options.scale === null;\n                that._autoZoomScale = ZOOM_SCALE;\n                that.zoomScale = that.options.scale || that._autoZoomScale;\n                that._resizeHandler = kendo.onResize(function () {\n                    that.resize();\n                });\n                that._pageNum = that.options.page;\n            },\n            _focus: function (e) {\n                if (this.toolbar) {\n                    this.toolbar.wrapper.focus();\n                } else {\n                    this.pageContainer.focus();\n                }\n                e.preventDefault();\n            },\n            _keydown: function (e) {\n                var plusShortcuts = [\n                        keys.PLUS,\n                        keys.NUMPAD_PLUS\n                    ], minusShortcuts = [\n                        keys.MINUS,\n                        keys.NUMPAD_MINUS\n                    ], zeroShortcuts = [\n                        keys.ZERO,\n                        keys.NUMPAD_ZERO\n                    ], shouldExecute = false, args = {\n                        command: ZOOMCOMMAND,\n                        options: { updateComboBox: true }\n                    };\n                if (!e.ctrlKey || this._blankPage || this.processingLib === PROCESSORS.dpl) {\n                    return;\n                }\n                if (plusShortcuts.includes(e.keyCode)) {\n                    args.options.zoomIn = true;\n                    shouldExecute = true;\n                } else if (minusShortcuts.includes(e.keyCode)) {\n                    args.options.zoomOut = true;\n                    shouldExecute = true;\n                } else if (zeroShortcuts.includes(e.keyCode)) {\n                    args.options.scale = ZOOM_SCALE;\n                    shouldExecute = true;\n                }\n                if (shouldExecute) {\n                    this.execute(args);\n                    e.preventDefault();\n                }\n            },\n            _initProcessor: function (options) {\n                var that = this, processingOptions;\n                processingOptions = options.dplProcessing ? that.options.dplProcessing : that.options.pdfjsProcessing;\n                that.processingLib = options.dplProcessing ? PROCESSORS.dpl : PROCESSORS.pdfjs;\n                that.processor = new kendo.pdfviewer[that.processingLib].processor(processingOptions, that);\n                Page = kendo.pdfviewer[that.processingLib].Page;\n            },\n            _renderToolbar: function () {\n                var that = this, options = that.options;\n                var toolbarOptions = {\n                    pager: { messages: options.messages.toolbar.pager },\n                    scale: options.scale,\n                    resizable: true,\n                    items: options.toolbar.items,\n                    width: options.width,\n                    action: that.execute.bind(that),\n                    messages: options.messages.toolbar,\n                    viewer: this\n                };\n                var toolbarElement = $('<div />');\n                toolbarElement.appendTo(that.element);\n                that.toolbar = new kendo.pdfviewer.Toolbar(toolbarElement, toolbarOptions);\n            },\n            _initErrorDialog: function (options) {\n                var that = this;\n                if (!that._errorDialog) {\n                    options = extend(options, { messages: that.options.messages });\n                    var dialogInstance = new kendo.pdfviewer.dialogs.ErrorDialog(options);\n                    that._errorDialog = dialogInstance._dialog;\n                }\n                return that._errorDialog;\n            },\n            _renderPageContainer: function () {\n                var that = this;\n                if (!that.pageContainer) {\n                    that.pageContainer = $('<div />');\n                    that.pageContainer.addClass(styles.scroller);\n                    that.pageContainer.attr(TABINDEX, 0);\n                    that.wrapper.append(that.pageContainer);\n                }\n            },\n            _triggerError: function (options) {\n                var dialog = this._initErrorDialog();\n                extend(options, { dialog: dialog });\n                if (this.pageContainer) {\n                    progress(this.pageContainer, false);\n                }\n                if (this.trigger(ERROR, options)) {\n                    return;\n                }\n                dialog.open().content(options.message);\n            },\n            _renderPages: function () {\n                var that = this, document = that.document, pagesData;\n                that.pages = [];\n                if (!document || !document.total) {\n                    that._renderBlankPage();\n                    return;\n                }\n                pagesData = document.pages;\n                for (var i = 1; i <= document.total; i++) {\n                    var viewerPage, pageData = {\n                            processor: that.processor,\n                            number: i\n                        };\n                    if (pagesData && pagesData.length) {\n                        pageData = extend(pageData, pagesData[i - 1]);\n                    }\n                    viewerPage = new Page(pageData, that);\n                    that.pages.push(viewerPage);\n                    that.pageContainer.append(viewerPage.element);\n                }\n                that._attachContainerEvents();\n                that._getVisiblePagesCount();\n            },\n            _renderBlankPage: function () {\n                this._blankPage = new Page(this.options.defaultPageSize, this);\n                this.pageContainer.append(this._blankPage.element);\n                this.trigger(UPDATE, { isBlank: true });\n            },\n            _resize: function () {\n                var that = this, containerWidth, ratio;\n                if (!that._allowResize) {\n                    return;\n                }\n                if (!that.pages || !that.pages.length) {\n                    if (that._blankPage) {\n                        ratio = containerWidth / that._blankPage.element.width();\n                        that._blankPage.resize(ratio);\n                    }\n                    return;\n                }\n                if (that.toolbar) {\n                    that.toolbar.resize(true);\n                }\n                if (that._resizeHandler) {\n                    clearTimeout(that._resizeHandler);\n                }\n                that._resizeHandler = setTimeout(that._resizePages.bind(that), 100);\n            },\n            _resizePages: function () {\n                var that = this, containerWidth = that.pageContainer[0].clientWidth, ratio = 0;\n                that.pages.forEach(function (page) {\n                    var currentRatio = containerWidth / page.element.width();\n                    if (currentRatio > ratio) {\n                        ratio = currentRatio;\n                    }\n                });\n                if (that._autoFit) {\n                    that.zoom(that._autoFit, true);\n                    return;\n                }\n                ratio = Math.min(Math.max(ratio, that.options.zoomMin), ZOOM_SCALE);\n                if (ratio != that.zoomScale) {\n                    that.zoom(ratio, true);\n                    that.zoomScale = ratio;\n                    that._allowResize = true;\n                }\n            },\n            _attachContainerEvents: function () {\n                var that = this;\n                that._wheel = kendo.throttle(that._wheel.bind(that), 300);\n                if (that.processingLib !== PROCESSORS.dpl) {\n                    that.pageContainer.on(MOUSEWHEEL, function (e) {\n                        if (!e.ctrlKey) {\n                            return;\n                        }\n                        that._wheel(e);\n                        e.preventDefault();\n                    });\n                }\n                that._scroller = new kendo.mobile.ui.Scroller(that.pageContainer, {\n                    zoom: false,\n                    elastic: true\n                });\n                that._scroller.scrollElement.addClass(styles.enablePanning);\n                that._scroller.bind(SCROLL, proxy(that._scroll, this));\n            },\n            _scroll: function (e) {\n                var that = this, containerScrollHeight = that.pageContainer[0].scrollHeight, containerHeight = that.pageContainer.height(), containerScrollTop = e.scrollTop, containerOffsetTop = that.pageContainer.offset().top, total = that.pages.length, pageNum = that._pageNum, pageIndex = pageNum - 1, pageToLoadNum = pageNum, pageToLoad, currentPage, currentPageTop, currentPageHeight, previousPage, prevPageTop, prevPageHeight, scrollDirection = containerScrollTop - that._prevScrollTop > 0 ? 1 : -1;\n                if (that._preventScroll || !total) {\n                    that._preventScroll = false;\n                    return;\n                }\n                that._scrollingStarted = true;\n                currentPage = that.pages[pageIndex];\n                currentPageTop = currentPage.element.offset().top - containerOffsetTop;\n                currentPageHeight = currentPage.element.height();\n                if (scrollDirection == -1 && that.pages[pageIndex + scrollDirection]) {\n                    previousPage = that.pages[pageIndex - that._visiblePagesCount] || that.pages[pageIndex + scrollDirection];\n                    prevPageTop = previousPage.element.offset().top - containerOffsetTop;\n                    prevPageHeight = previousPage.element.height();\n                }\n                if (Math.abs(containerScrollTop - (that._prevScrollTop || 0)) > containerHeight * that.zoomScale) {\n                    pageToLoadNum = Math.floor(containerScrollTop * (1 / (containerScrollHeight / total))) + 1;\n                } else if (currentPageTop < 0 && Math.abs(currentPageTop) >= currentPageHeight / 2 && scrollDirection === 1) {\n                    pageToLoadNum++;\n                } else if (previousPage && Math.abs(prevPageTop) <= prevPageHeight / 2) {\n                    pageToLoadNum--;\n                }\n                if (pageNum !== pageToLoadNum && pageToLoadNum >= 1 && pageToLoadNum <= total) {\n                    pageToLoad = that.pages[pageToLoadNum - 1].element;\n                    if (pageToLoad.offset().top > containerHeight) {\n                        return;\n                    }\n                    that._pageNum = pageToLoadNum;\n                    that._loadVisiblePages();\n                    that.trigger(UPDATE, {\n                        action: PAGE_CHANGE,\n                        page: pageToLoadNum,\n                        total: total\n                    });\n                }\n                that._prevScrollTop = containerScrollTop;\n            },\n            _wheel: function (e) {\n                var originalEvent = e.originalEvent, delta = originalEvent.wheelDelta ? -originalEvent.wheelDelta : originalEvent.detail, zoomIn = delta < 0;\n                this.execute({\n                    command: ZOOMCOMMAND,\n                    options: {\n                        zoomIn: zoomIn,\n                        zoomOut: !zoomIn,\n                        updateComboBox: true\n                    }\n                });\n                e.preventDefault();\n            },\n            zoom: function (scale, preventComboBoxChange) {\n                var that = this;\n                if (!scale) {\n                    return that.zoomScale;\n                }\n                return that.execute({\n                    command: ZOOMCOMMAND,\n                    options: {\n                        scale: scale,\n                        updateComboBox: !preventComboBoxChange\n                    }\n                });\n            },\n            execute: function (options) {\n                var commandOptions = extend({ viewer: this }, options.options);\n                var command = new kendo.pdfviewer[options.command](commandOptions);\n                return command.exec();\n            },\n            _loadDocument: function () {\n                var that = this;\n                var page = that.options.page;\n                progress(that.pageContainer, true);\n                that.processor.fetchDocument().done(function (document) {\n                    that._clearPages();\n                    that.document = document;\n                    that._renderPages();\n                    that.resize(true);\n                    if (document) {\n                        page = page >= 1 && page <= document.total ? page : 1;\n                        that.activatePage(page);\n                    }\n                    progress(that.pageContainer, false);\n                });\n            },\n            loadPage: function (number) {\n                var page = this.pages && this.pages[number - 1];\n                if (page) {\n                    return page.load(this.zoomScale);\n                }\n            },\n            activatePage: function (number) {\n                var page = this.pages && this.pages[number - 1];\n                var subtractMargin;\n                if (!page) {\n                    return;\n                }\n                subtractMargin = this._autoFit ? parseInt(page.element.css('marginTop'), 0) : 0;\n                this._pageNum = number;\n                this._loadVisiblePages();\n                this._preventScroll = true;\n                this._scroller.scrollTo(0, -this._scroller.scrollTop - page.element.position().top - subtractMargin);\n                this.trigger(UPDATE, {\n                    action: PAGE_CHANGE,\n                    page: number,\n                    total: this.pages.length\n                });\n            },\n            _getVisiblePagesCount: function () {\n                var that = this, loadedPagesHeight = 0, updatedVisiblePagesCount = 0, containerHeight = that.pageContainer[0].clientHeight, index = 0;\n                while (loadedPagesHeight <= containerHeight && index < that.pages.length) {\n                    loadedPagesHeight += that.pages[index].element.height();\n                    updatedVisiblePagesCount++;\n                    index++;\n                }\n                that._visiblePagesCount = updatedVisiblePagesCount;\n            },\n            _loadVisiblePages: function () {\n                var pagesCount = this.pages && this.pages.length, minVisiblePageNum = Math.max(this._pageNum - this._visiblePagesCount, 1), maxVisiblePageNum = Math.min(this._pageNum + this._visiblePagesCount, pagesCount);\n                this._visiblePages = this.pages.slice(minVisiblePageNum - 1, maxVisiblePageNum);\n                for (var i = minVisiblePageNum; i <= maxVisiblePageNum; i++) {\n                    this.loadPage(i);\n                }\n            },\n            _loadAllPages: function () {\n                var pagesCount = this.pages && this.pages.length;\n                var promises = [];\n                for (var i = 0; i <= pagesCount; i++) {\n                    promises.push(this.loadPage(i));\n                }\n                return promises;\n            },\n            fromFile: function (file) {\n                this.zoomScale = this.options.scale || ZOOM_SCALE;\n                this.trigger(UPDATE, {\n                    action: 'zoom',\n                    zoom: this.options.scale || 'auto'\n                });\n                this.processor._updateDocument(file);\n                this._loadDocument();\n            },\n            exportImage: function (options) {\n                var that = this;\n                var pageNumber = options.page;\n                var page = that.pages[pageNumber - 1] || that._blankPage;\n                var rootGroup = new drawing.Group();\n                page.load();\n                var background = kendo.drawing.Path.fromRect(new kendo.geometry.Rect([\n                    0,\n                    0\n                ], [\n                    page.width,\n                    page.height\n                ]), {\n                    fill: { color: WHITECOLOR },\n                    stroke: null\n                });\n                progress(that.pageContainer, true);\n                rootGroup.append(background, page.group);\n                drawing.exportImage(rootGroup).done(function (data) {\n                    progress(that.pageContainer, false);\n                    kendo.saveAs({\n                        dataURI: data,\n                        fileName: options.fileName,\n                        proxyURL: options.proxyURL || '',\n                        forceProxy: options.forceProxy,\n                        proxyTarget: options.proxyTarget\n                    });\n                });\n            },\n            exportSVG: function (options) {\n                var that = this;\n                var pageNumber = options.page;\n                var page = that.pages[pageNumber - 1] || that._blankPage;\n                progress(that.pageContainer, true);\n                page.load();\n                drawing.exportSVG(page.group).done(function (data) {\n                    progress(that.pageContainer, false);\n                    kendo.saveAs({\n                        dataURI: data,\n                        fileName: options.fileName,\n                        proxyURL: options.proxyURL || '',\n                        forceProxy: options.forceProxy,\n                        proxyTarget: options.proxyTarget\n                    });\n                });\n            },\n            setOptions: function (options) {\n                var that = this;\n                if (options.pdfjsProcessing || options.dplProcessing) {\n                    that._initProcessor();\n                }\n                options = $.extend(that.options, options);\n                Widget.fn.setOptions.call(that, options);\n                if (options.page) {\n                    that._pageNum = options.page;\n                    that.activatePage(options.page);\n                }\n                if (options.width) {\n                    that.element.width(options.width);\n                }\n                if (options.height) {\n                    that.element.height(options.height);\n                }\n            },\n            destroy: function () {\n                if (this._resizeHandler) {\n                    kendo.unbindResize(this._resizeHandler);\n                }\n                if (this._errorDialog) {\n                    this._errorDialog.destroy();\n                }\n                if (this._saveDialog) {\n                    this._saveDialog.destroy();\n                }\n                if (this._upload) {\n                    this._upload.destroy();\n                }\n                if (this.toolbar) {\n                    this.toolbar.unbind();\n                    this.toolbar.destroy();\n                    this.toolbar = null;\n                }\n                if (this.pages && this.pages.length) {\n                    this.pages.forEach(function (page) {\n                        page.destroy();\n                    });\n                    this.pages = [];\n                }\n                if (this._scroller) {\n                    this._scroller.unbind();\n                    this._scroller.destroy();\n                }\n                this.pageContainer.off(NS);\n                Widget.fn.destroy.call(this);\n            },\n            _clearPages: function () {\n                this.pages = [];\n                this.document = null;\n                this._pageNum = 1;\n                this.pageContainer.off(NS);\n                this.pageContainer.empty();\n                if (this._scroller) {\n                    this._scroller.reset();\n                    this._scroller.unbind();\n                    this._scroller.destroy();\n                }\n            },\n            _toggleSelection: function (enable) {\n                var that = this;\n                if (enable === undefined) {\n                    enable = true;\n                }\n                that._scroller.userEvents._shouldNotMove = enable;\n                that._scroller.scrollElement.toggleClass(styles.enableTextSelection, enable);\n                that._scroller.scrollElement.toggleClass(styles.enablePanning, !enable);\n            },\n            _initSearchDOM: function () {\n                var that = this;\n                var promise = new Promise(function (resolve) {\n                    Promise.all(that._loadAllPages()).then(function () {\n                        that._searchDOM = new kendo.pdfviewer.SearchDOM({\n                            target: that._getTextLayers(),\n                            highlightClass: styles.highlightClass,\n                            charClass: styles.charClass\n                        });\n                        resolve();\n                    });\n                });\n                return promise;\n            },\n            _getTextLayers: function () {\n                return this.pages.map(function (page) {\n                    return page.textLayer;\n                });\n            }\n        });\n        ui.plugin(PDFViewer);\n    }(window.kendo.jQuery));\n    return window.kendo;\n}, typeof define == 'function' && define.amd ? define : function (a1, a2, a3) {\n    (a3 || a2)();\n}));"]}